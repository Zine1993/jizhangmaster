import React, { createContext, useContext, useState, useEffect, ReactNode, useMemo, useCallback } from 'react';
import AsyncStorage from '@react-native-async-storage/async-storage';
import * as Localization from 'expo-localization';

const REGION_TO_CURRENCY: Record<string, string> = {
  CN: 'CNY',
  US: 'USD',
  JP: 'JPY',
  KR: 'KRW',
  DE: 'EUR',
  FR: 'EUR',
  ES: 'EUR',
  IT: 'EUR',
  NL: 'EUR',
  BE: 'EUR',
  PT: 'EUR',
  IE: 'EUR',
  AT: 'EUR',
  FI: 'EUR',
  GR: 'EUR',
  LU: 'EUR',
  MT: 'EUR',
  CY: 'EUR',
  EE: 'EUR',
  LV: 'EUR',
  LT: 'EUR',
  SK: 'EUR',
  SI: 'EUR',
  GB: 'GBP',
  HK: 'HKD',
  TW: 'TWD',
  SG: 'SGD',
  CA: 'CAD',
  AU: 'AUD',
  NZ: 'NZD',
  CH: 'CHF',
  SE: 'SEK',
  NO: 'NOK',
  DK: 'DKK',
  IN: 'INR',
  RU: 'RUB',
  BR: 'BRL',
  MX: 'MXN',
  AR: 'ARS'
};

const inferRegion = (locs: any[]): string => {
  const loc = locs?.[0];
  if (!loc) return '';
  let r = (loc as any).regionCode || (loc as any).countryCode || '';
  r = (r || '').toUpperCase();
  if (!r && typeof (loc as any).languageTag === 'string') {
    const parts = (loc as any).languageTag.split('-');
    if (parts.length >= 2) r = parts[1].toUpperCase();
  }
  return r;
};

type Language = 'en' | 'zh' | 'es' | 'fr' | 'de' | 'ja' | 'ko';

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  /** @deprecated è¯·æ”¹ç”¨ useTransactions().currency ä½œä¸ºå”¯ä¸€è´§å¸æ¥æº */
  currency: string;
  /** @deprecated è¯·æ”¹ç”¨ useTransactions().setCurrency(...) ç»Ÿä¸€ä¿®æ”¹è´§å¸ */
  setCurrency: (code: string) => void;
  t: (key: string, vars?: Record<string, string>) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

const translations = {
  en: {
    // Tabs
    home: 'Home',
    transactions: 'Transactions',
    stats: 'Statistics',
    settings: 'Settings',
    assets: 'Assets',
    netWorth: 'Net worth',
    account: 'Account',
    noAccounts: 'No active accounts',
    
    // Home screen
    balance: 'Balance',
    totalIncome: 'Total Income',
    totalExpense: 'Total Expense',
    thisMonth: 'This Month',
    homeSubtitle: 'Data overview',
    statsSubtitle: 'Global data analysis',
    settingsSubtitle: 'Customize your experience',
    recentTransactions: 'Recent Transactions',
    noTransactions: 'No transactions yet',
    addFirst: 'Add your first transaction!',
    
    // Add transaction
    addTransaction: 'Add Transaction',
    income: 'Income',
    expense: 'Expense',
    amount: 'Amount',
    category: 'Category',
    description: 'Description',
    date: 'Date',
    save: 'Save',
    cancel: 'Cancel',
    transactionType: 'Transaction Type',
    currentEmotion: 'Current Emotion',
    notePlaceholder: 'Notes (optional)',
    
    // Categories
    food: 'Food',
    transport: 'Transport',
    shopping: 'Shopping',
    entertainment: 'Entertainment',
    health: 'Health',
    education: 'Education',
    salary: 'Salary',
    freelance: 'Freelance',
    investment: 'Investment',
    other: 'Other',
    // Transfer
    transfer: 'Transfer',
    cannotTransferDifferentCurrency: 'Cannot transfer between different currencies',
    fromAccount: 'From Account',
    toAccount: 'To Account',
    fee: 'Fee',
    operationSuccess: 'Completed',
    operationFailed: 'Operation failed',
    insufficientFunds: 'Insufficient funds',
    cannotTransferSameAccount: 'Cannot transfer to the same account',
    
    // Settings
    language: 'Language',
    english: 'English',
    chinese: 'ä¸­æ–‡',
    spanish: 'Spanish',
    french: 'French',
    german: 'German',
    japanese: 'Japanese',
    korean: 'Korean',
    
    // Common
    today: 'Today',
    yesterday: 'Yesterday',
    edit: 'Edit',
    delete: 'Delete',
    confirm: 'Confirm',
    editTransaction: 'Edit Transaction',
    update: 'Update',
    deleteConfirm: 'Are you sure you want to delete this transaction?',
    operationLogs: 'Operation Logs',
    pieChart: 'Category Distribution',
    noData: 'No data available',
    
    // Header
    greetTitle: 'Enjoy every day',

    logout: 'Sign out',
    insights: 'Insights',
    recordsSubtitle: 'Your income and expense records',
    mainEmotion: 'Dominant emotion',
    todayTopEmotion: 'Today\'s dominant emotion',
    spendTimes: 'times',
    topCategories: 'Top Categories',
    incomeTopCategories: 'Top income categories',
    expenseTopCategories: 'Top expense categories',
    timeRange: 'Time range',
    thisYear: 'This year',
    all: 'All',
    metricByAmount: 'By amount',
    metricByCount: 'By count',
    last7Days: 'Last 7 days',
    last30Days: 'Last 30 days',
    thisWeek: 'This week',
    lastWeek: 'Last week',
    last14Days: 'Last 14 days',
    lastMonth: 'Last month',
    allTime: 'All time',
    customRange: 'Custom range',
    startDate: 'Start date',
    endDate: 'End date',
    apply: 'Apply',
    insightsSubtitle: 'AI analyzes your emotion patterns across income and expenses',
    emotionRanking: 'Emotion ranking',
    weeklyEmotionRanking: 'This week\'s emotion ranking',
    patternAnalysis: 'Income & expense pattern analysis',
    smartAdvice: 'Smart suggestions',
    patternTopShareLine: '{emotion} share {share}%, avg {avg} (overall avg {overallAvg})',
    patternWeekCompareLine: 'This week {amount}, vs last week {delta}%',
    adviceHighAvg: 'Tip: Set reminder/confirm for "{emotion}" when over {threshold}',
    adviceBudgetCap: 'Tip: Set weekly budget cap, alert near {cap}',
    recordMoreToSee: 'Record a few entries to see insights',
    usedDaysPrefix: 'Used days:',
    daysUnit: 'days',
    keepRecordingTip: 'Keep recording to better understand your emotions and income/expenses.',
    
    // Theme
    theme: 'Theme',
    lightTheme: 'Light',
    darkTheme: 'Dark',
    systemTheme: 'Follow System',
    
    // Currency
    currency: 'Currency',
    
    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'Track spending, understand emotions, improve life',
    slogan: 'Your wallet writes, your heart speaks',
    warm_1: 'May the world treat you gently',
    warm_2: 'Stay energetic today',
    warm_3: 'Bookkeeping is saying hi to your future self',
    warm_4: 'Spend wisely, live brightly',
    warm_5: 'Small goals, achieved step by step',
    
    // Initial Balance
    initialBalance: 'Initial Balance',
    setInitialBalance: 'Set Initial Balance',
    initialBalanceQuestion: 'What was your account balance before using this app?',
    initialBalanceDescription: 'This is the amount you had before starting to use this app.',
    enterInitialBalance: 'Enter your initial balance',
    initialBalanceIncluded: 'Initial balance included',
    monthlyBalance: 'Monthly balance',
    continue: 'Continue',
    skip: 'Skip',
    
    appVersion: 'v1.1.1',
    appDescription: 'Simple and easy-to-use personal finance tool',
    
    // Settings extensions
    loggedInAccount: 'Logged-in account',
    logoutFailed: 'Sign out failed',
    pleaseRetry: 'Please try again',
    loginOrRegister: 'Log in / Register',
    exportDataJSON: 'Export data (JSON)',
    exportFailed: 'Export failed',
    setPassword: 'Set password',
    enterPassword: 'Enter password',
    confirmPassword: 'Confirm password',
    passwordRecovery: 'Password recovery',
    resetAccount: 'Reset account',
    resetAccountWarning: 'This will delete all your accounts and transactions and remove the password. This action cannot be undone.',
    passwordIncorrect: 'Incorrect password',
    passwordTooShort: 'Password must be at least 4 characters',
    passwordNotMatch: 'Passwords do not match',
    fillAllFields: 'Please fill in all fields',
    sendEmail: 'Send email',
    tip: 'Tip',
    success: 'Success',
    passwordSet: 'Password set',
    accountReset: 'Account reset',
    pleaseLoginToReset: 'Not logged in. Email recovery unavailable. Please reset your account.',
    verify: 'Verify',
    willSendResetTo: 'Will send reset email to: ',
    importDataPasteJSON: 'Import data (paste JSON)',
    importData: 'Import data',
    pasteJsonBelow: 'Paste the exported JSON content below:',
    pasteJsonPlaceholder: 'Paste JSON',
    startImport: 'Start import',
    importSuccess: 'Import succeeded',
    importedPrefix: 'Imported ',
    importedSuffix: ' records',
    importFailed: 'Import failed',
    invalidJSON: 'Invalid JSON content',
    importExport: 'Import / Export',
    importJSONFile: 'Import from JSON file',
    exportJSONFile: 'Export to JSON file',
    exportSuccess: 'Export succeeded',
    noSharingAvailable: 'Saving is not available on this device',
    checkJson: 'Please check the JSON content',
    emotionTagManagement: 'Emotion tag management',
    add: 'Add',
    addEmotionTag: 'Add emotion tag',
    emoji: 'Emoji',
    egEmoji: 'e.g. ğŸ˜Š',
    name: 'Name',
    egHappy: 'e.g. Happy',
    pleaseEnterName: 'Please enter a name',
    emotionTags: 'Emotion tags',
    resetEmotionTagsToDefault: 'Reset to default emotions',
    resetEmotionTagsRestored: 'Default emotions restored',
    usageDays: 'Usage days',


    clear: 'Clear',
    remove: 'Remove',
    areYouSureYouWantToRemoveThisTag: 'Are you sure you want to remove this tag?',
    
    // Emotions (default tags)
    'å¼€å¿ƒ': 'Happy',
    'ç„¦è™‘': 'Anxious',
    'å­¤ç‹¬': 'Lonely',
    'æ— èŠ': 'Bored',
    'å¥–åŠ±è‡ªå·±': 'Treat myself',
    'å‹åŠ›å¤§': 'Stressed',
    'å…´å¥‹': 'Excited',
    'éš¾è¿‡': 'Sad',
    
    // Insights tip
    analysisTip: 'When you are {emotion}, your average transaction amount is higher. Consider setting a budget reminder to stay rational.',
    
    // Auth/AuthGate
    welcomeBack: 'Welcome back',
    createAccount: 'Create your account',
    resetPassword: 'Reset password',
    login: 'Login',
    register: 'Register',
    sendResetEmail: 'Send reset email',
    backToLogin: 'Back to login',
    goRegister: 'Go to register',
    forgotPassword: 'Forgot password',
    emailLabel: 'Email',
    emailPlaceholder: 'Enter your email',
    passwordLabel: 'Password',
    passwordPlaceholder: 'Enter your password',
    confirmPasswordLabel: 'Confirm password',
    confirmPasswordPlaceholder: 'Re-enter password',
    passwordMismatch: 'Passwords do not match',
    quickTryTitle: 'Quick Try',
    quickTryDesc: 'No signup needed, try all features now',
    skipForNow: 'Skip for now',
    featureAnalytics: 'Analytics',
    featureAnalyticsSub: 'Spending distribution and trends',
    featureInsights: 'Insights',
    featureInsightsSub: 'Discover emotion patterns',
    featurePrivacy: 'Privacy',
    featurePrivacySub: 'Local and cloud sync',
    loginFailed: 'Login failed',
    registerFailed: 'Register failed',
    registerSuccessCheckEmail: 'Registration successful. Check your email or log in directly',
    registerSuccessLocal: 'Registration successful. You can now log in with your credentials.',
    resetEmailFailed: 'Failed to send reset email',
    resetEmailSent: 'Reset email sent. Please check your inbox',
    cloudSyncNotConfigured: 'Cloud sync is not configured. Please set Supabase URL and anon key in config and try again',
    amountInvalidTitle: 'Error',
    amountInvalidMessage: 'Please enter a valid amount',
    emotionRequiredTitle: 'Notice',
    emotionRequiredMessage: 'Please select an emotion',
    pleaseSelectEmotion: 'Please select an emotion',
    
    // Account Management
    accountManagement: 'Account Management',
    addAccount: 'Add Account',
    editAccount: 'Edit Account',
    unarchiveAccount: 'Unarchive Account',
    noAccountsFound: 'No accounts found',
    createFirstAccount: 'Create your first account',
    accountCreated: 'Account created successfully',
    accountUpdated: 'Account updated successfully',

    deleteAccountConfirm: 'Are you sure you want to delete this account?',
    cannotDeleteLastAccount: 'Cannot delete the last account',
    accountName: 'Account Name',
    accountType: 'Account Type',
    selectAccount: 'Select account',
    noAccountAvailableTitle: 'No available account',
    noAccountAvailableMessage: 'Please add an account in Settings first',
    egSavingsAccount: 'e.g., Savings Account',
    // Account types (for Add Account / Accounts list)
    cash: 'Cash',
    debit_card: 'Debit card',
    credit_card: 'Credit card',
    prepaid_card: 'Prepaid Card',
    virtual_card: 'Virtual Card',
    'e-wallet': 'E-wallet',
  },
  zh: {
    // Tabs
    home: 'é¦–é¡µ',
    transactions: 'äº¤æ˜“è®°å½•',
    stats: 'ç»Ÿè®¡',
    settings: 'è®¾ç½®',
    assets: 'èµ„äº§',
    netWorth: 'å‡€èµ„äº§',
    account: 'è´¦æˆ·',
    noAccounts: 'æš‚æ— æœ‰æ•ˆè´¦æˆ·',
    
    // Home screen
    balance: 'ä½™é¢',
    totalIncome: 'æ€»æ”¶å…¥',
    totalExpense: 'æ€»æ”¯å‡º',
    thisMonth: 'æœ¬æœˆ',
    homeSubtitle: 'æ•°æ®æ€»è§ˆ',
    statsSubtitle: 'å…¨å±€æ•°æ®åˆ†æ',
    settingsSubtitle: 'å®šåˆ¶åŒ–ä½ çš„ä¸ªæ€§',
    recentTransactions: 'æœ€è¿‘äº¤æ˜“',
    noTransactions: 'æš‚æ— äº¤æ˜“è®°å½•',
    addFirst: 'æ·»åŠ æ‚¨çš„ç¬¬ä¸€ç¬”äº¤æ˜“ï¼',
    
    // Add transaction
    addTransaction: 'æ·»åŠ äº¤æ˜“',
    income: 'æ”¶å…¥',
    expense: 'æ”¯å‡º',
    amount: 'é‡‘é¢',
    category: 'åˆ†ç±»',
    description: 'æè¿°',
    date: 'æ—¥æœŸ',
    save: 'ä¿å­˜',
    cancel: 'å–æ¶ˆ',
    transactionType: 'äº¤æ˜“ç±»å‹',
    currentEmotion: 'å½“å‰æƒ…ç»ª',
    notePlaceholder: 'å¤‡æ³¨ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰',
    
    // Categories
    food: 'é¤é¥®',
    transport: 'äº¤é€š',
    shopping: 'è´­ç‰©',
    entertainment: 'å¨±ä¹',
    health: 'åŒ»ç–—',
    education: 'æ•™è‚²',
    salary: 'å·¥èµ„',
    freelance: 'è‡ªç”±èŒä¸š',
    investment: 'æŠ•èµ„',
    other: 'å…¶ä»–',
    // Transfer
    transfer: 'è½¬è´¦',
    cannotTransferDifferentCurrency: 'ä¸èƒ½åœ¨ä¸åŒå¸ç§è´¦æˆ·ä¹‹é—´è½¬è´¦',
    fromAccount: 'è½¬å‡ºè´¦æˆ·',
    toAccount: 'è½¬å…¥è´¦æˆ·',
    fee: 'æ‰‹ç»­è´¹',
    operationSuccess: 'å·²å®Œæˆ',
    operationFailed: 'æ“ä½œå¤±è´¥',
    insufficientFunds: 'ä½™é¢ä¸è¶³',
    cannotTransferSameAccount: 'ä¸èƒ½å‘åŒä¸€è´¦æˆ·è½¬è´¦',
    
    // Settings
    language: 'è¯­è¨€',
    english: 'English',
    chinese: 'ä¸­æ–‡',
    spanish: 'è¥¿ç­ç‰™è¯­',
    french: 'æ³•è¯­',
    german: 'å¾·è¯­',
    japanese: 'æ—¥è¯­',
    korean: 'éŸ©è¯­',
    
    // Common
    today: 'ä»Šå¤©',
    yesterday: 'æ˜¨å¤©',
    edit: 'ç¼–è¾‘',
    delete: 'åˆ é™¤',
    confirm: 'ç¡®è®¤',
    editTransaction: 'ç¼–è¾‘äº¤æ˜“',
    update: 'æ›´æ–°',
    deleteConfirm: 'ç¡®å®šè¦åˆ é™¤è¿™ç¬”äº¤æ˜“å—ï¼Ÿ',
    operationLogs: 'æ“ä½œè®°å½•',
    pieChart: 'åˆ†ç±»å æ¯”',
    noData: 'æš‚æ— æ•°æ®',
    
    // Header
    greetTitle: 'å¼€å¿ƒç”Ÿæ´»æ¯ä¸€å¤©',
    warm_1: 'æ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…',
    warm_2: 'ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡',
    warm_3: 'è®°è´¦æ˜¯å’Œæœªæ¥çš„è‡ªå·±æ‰“æ‹›å‘¼',
    warm_4: 'èŠ±é’±æœ‰åº¦ï¼Œç”Ÿæ´»æœ‰å…‰',
    warm_5: 'å°ç›®æ ‡ï¼Œä¸€ç‚¹ç‚¹å®ç°',

    logout: 'é€€å‡º',
    insights: 'æ´å¯Ÿ',
    recordsSubtitle: 'ä½ çš„æ”¶æ”¯è®°å½•',
    mainEmotion: 'ä¸»å¯¼æƒ…ç»ª',
    todayTopEmotion: 'ä»Šæ—¥ä¸»å¯¼æƒ…ç»ª',
    spendTimes: 'æ¬¡å‡ºç°',
    topCategories: 'çƒ­é—¨åˆ†ç±»',
    incomeTopCategories: 'æ”¶å…¥çƒ­é—¨åˆ†ç±»',
    expenseTopCategories: 'æ”¯å‡ºçƒ­é—¨åˆ†ç±»',
    timeRange: 'æ—¶é—´èŒƒå›´',
    thisYear: 'æœ¬å¹´',
    all: 'å…¨éƒ¨',
    metricByAmount: 'æŒ‰é‡‘é¢',
    metricByCount: 'æŒ‰ç¬”æ•°',
    last7Days: 'è¿‘7å¤©',
    last30Days: 'è¿‘30å¤©',
    thisWeek: 'æœ¬å‘¨',
    lastWeek: 'ä¸Šå‘¨',
    last14Days: 'è¿‘14å¤©',
    lastMonth: 'ä¸Šä¸ªæœˆ',
    allTime: 'æ‰€æœ‰æ—¶é—´',
    customRange: 'è‡ªå®šä¹‰æ—¥æœŸ',
    startDate: 'å¼€å§‹æ—¥æœŸ',
    endDate: 'ç»“æŸæ—¥æœŸ',
    apply: 'åº”ç”¨',
    insightsSubtitle: 'AIåˆ†æä½ çš„æƒ…ç»ªä¸æ”¶æ”¯å…³ç³»',
    emotionRanking: 'æƒ…ç»ªæ’è¡Œ',
    weeklyEmotionRanking: 'æœ¬å‘¨æƒ…ç»ªæ’è¡Œ',
    patternAnalysis: 'æ”¶æ”¯æ¨¡å¼åˆ†æ',
    smartAdvice: 'æ™ºèƒ½å»ºè®®',
    patternTopShareLine: '{emotion}å æ¯” {share}%ï¼Œå¹³å‡å•ç¬” {avg}ï¼ˆæ€»ä½“å‡å€¼ {overallAvg}ï¼‰',
    patternWeekCompareLine: 'æœ¬å‘¨æ”¯å‡º {amount}ï¼Œè¾ƒä¸Šå‘¨ {delta}%',
    adviceHighAvg: 'å»ºè®®ï¼šä¸ºâ€œ{emotion}â€ç›¸å…³äº¤æ˜“è®¾ç½® >{threshold} çš„æé†’/äºŒæ¬¡ç¡®è®¤',
    adviceBudgetCap: 'å»ºè®®ï¼šè®¾å®šæœ¬å‘¨é¢„ç®—ä¸Šé™ï¼Œæ¥è¿‘ä¸Šé™æ—¶æé†’ï¼ˆä¾‹å¦‚ {cap}ï¼‰',
    recordMoreToSee: 'è®°å½•å‡ ç¬”åå³å¯çœ‹åˆ°æ´å¯Ÿ',
    usedDaysPrefix: 'å·²ä½¿ç”¨å¤©æ•°ï¼š',
    daysUnit: 'å¤©',
    keepRecordingTip: 'åšæŒè®°å½•èƒ½æ›´å¥½ç†è§£ä½ çš„æƒ…ç»ªä¸æ”¶æ”¯å…³ç³»ã€‚',
    
    // Theme
    theme: 'ä¸»é¢˜',
    lightTheme: 'æµ…è‰²',
    darkTheme: 'æ·±è‰²',
    systemTheme: 'è·Ÿéšç³»ç»Ÿ',
    
    // Currency
    currency: 'è´§å¸',
    
    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'è®°å½•æ¶ˆè´¹ï¼Œç†è§£æƒ…ç»ªï¼Œæ”¹å–„ç”Ÿæ´»',
    slogan: 'é’±åŒ…åœ¨å†™ï¼Œå¿ƒåœ¨è¯‰è¯´',
    
    // Initial Balance
    initialBalance: 'åˆå§‹ä½™é¢',
    setInitialBalance: 'è®¾ç½®åˆå§‹ä½™é¢',
    initialBalanceQuestion: 'åœ¨ä½¿ç”¨æœ¬åº”ç”¨å‰æ‚¨çš„è´¦æˆ·ä½™é¢æ˜¯å¤šå°‘ï¼Ÿ',
    initialBalanceDescription: 'è¿™æ˜¯æ‚¨åœ¨å¼€å§‹ä½¿ç”¨æœ¬åº”ç”¨å‰å·²æœ‰çš„é‡‘é¢ã€‚',
    enterInitialBalance: 'è¾“å…¥æ‚¨çš„åˆå§‹ä½™é¢',
    initialBalanceIncluded: 'åŒ…å«åˆå§‹ä½™é¢',
    monthlyBalance: 'æœ¬æœˆä½™é¢',
    continue: 'ç»§ç»­',
    skip: 'è·³è¿‡',
    
    appVersion: 'v1.1.1',
    appDescription: 'ç®€å•æ˜“ç”¨çš„ä¸ªäººè´¢åŠ¡ç®¡ç†å·¥å…·',
    
    // Settings æ‰©å±•
    loggedInAccount: 'å·²ç™»å½•è´¦å·',
    logoutFailed: 'é€€å‡ºå¤±è´¥',
    pleaseRetry: 'è¯·é‡è¯•',
    loginOrRegister: 'ç™»å½• / æ³¨å†Œ',
    exportDataJSON: 'å¯¼å‡ºæ•°æ®ï¼ˆJSONï¼‰',
    exportFailed: 'å¯¼å‡ºå¤±è´¥',
    setPassword: 'è®¾ç½®å¯†ç ',
    enterPassword: 'è¾“å…¥å¯†ç ',
    confirmPassword: 'ç¡®è®¤å¯†ç ',
    passwordRecovery: 'å¯†ç æ¢å¤',
    resetAccount: 'é‡ç½®è´¦æˆ·',
    resetAccountWarning: 'è¿™å°†åˆ é™¤æ‚¨æ‰€æœ‰çš„è´¦æˆ·å’Œäº¤æ˜“æ•°æ®ï¼Œå¹¶ç§»é™¤å¯†ç ã€‚æ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚',
    passwordIncorrect: 'å¯†ç ä¸æ­£ç¡®',
    passwordTooShort: 'å¯†ç è‡³å°‘ 4 ä½',
    passwordNotMatch: 'ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´',
    fillAllFields: 'è¯·å¡«å†™å®Œæ•´',
    sendEmail: 'å‘é€é‚®ä»¶',
    tip: 'æç¤º',
    success: 'æˆåŠŸ',
    passwordSet: 'å·²è®¾ç½®å¯†ç ',
    accountReset: 'è´¦æˆ·å·²é‡ç½®',
    pleaseLoginToReset: 'æœªç™»å½•ï¼Œæ— æ³•ä½¿ç”¨é‚®ç®±æ‰¾å›ã€‚è¯·é‡ç½®è´¦æˆ·',
    verify: 'éªŒè¯',
    willSendResetTo: 'å°†å‘é€é‡ç½®é‚®ä»¶åˆ°ï¼š',
    importDataPasteJSON: 'å¯¼å…¥æ•°æ®ï¼ˆç²˜è´´ JSONï¼‰',
    importData: 'å¯¼å…¥æ•°æ®',
    pasteJsonBelow: 'å°†å¯¼å‡ºçš„ JSON å†…å®¹ç²˜è´´åˆ°ä¸‹æ–¹ï¼š',
    pasteJsonPlaceholder: 'ç²˜è´´ JSON',
    startImport: 'å¼€å§‹å¯¼å…¥',
    importSuccess: 'å¯¼å…¥æˆåŠŸ',
    importedPrefix: 'å…±å¯¼å…¥ ',
    importedSuffix: ' æ¡è®°å½•',
    importFailed: 'å¯¼å…¥å¤±è´¥',
    checkJson: 'è¯·æ£€æŸ¥ JSON å†…å®¹',
    invalidJSON: 'JSON å†…å®¹ä¸åˆæ³•',
    importExport: 'å¯¼å…¥ / å¯¼å‡º',
    importJSONFile: 'ä» JSON æ–‡ä»¶å¯¼å…¥',
    exportJSONFile: 'å¯¼å‡ºä¸º JSON æ–‡ä»¶',
    exportSuccess: 'å¯¼å‡ºæˆåŠŸ',
    noSharingAvailable: 'å½“å‰ç¯å¢ƒä¸æ”¯æŒä¿å­˜æ–‡ä»¶',
    emotionTagManagement: 'æƒ…ç»ªæ ‡ç­¾ç®¡ç†',
    add: 'æ·»åŠ ',
    addEmotionTag: 'æ·»åŠ æƒ…ç»ªæ ‡ç­¾',
    emoji: 'è¡¨æƒ…ç¬¦å·',
    egEmoji: 'ä¾‹å¦‚ ğŸ˜Š',
    name: 'åç§°',
    egHappy: 'ä¾‹å¦‚ å¼€å¿ƒ',
    pleaseEnterName: 'è¯·è¾“å…¥åç§°',
    emotionTags: 'æƒ…ç»ªæ ‡ç­¾',
    resetEmotionTagsToDefault: 'æ¢å¤é»˜è®¤æƒ…ç»ª',
    resetEmotionTagsRestored: 'å·²æ¢å¤é»˜è®¤æƒ…ç»ª',
    usageDays: 'ä½¿ç”¨å¤©æ•°',


    clear: 'æ¸…ç©º',
    remove: 'ç§»é™¤',
    areYouSureYouWantToRemoveThisTag: 'ç¡®å®šè¦ç§»é™¤æ­¤æ ‡ç­¾å—ï¼Ÿ',
    
    // Emotions (default tags)
    'å¼€å¿ƒ': 'å¼€å¿ƒ',
    'ç„¦è™‘': 'ç„¦è™‘',
    'å­¤ç‹¬': 'å­¤ç‹¬',
    'æ— èŠ': 'æ— èŠ',
    'å¥–åŠ±è‡ªå·±': 'å¥–åŠ±è‡ªå·±',
    'å‹åŠ›å¤§': 'å‹åŠ›å¤§',
    'å…´å¥‹': 'å…´å¥‹',
    'éš¾è¿‡': 'éš¾è¿‡',
    
    // Insights tip
    analysisTip: 'å½“ä½ å¤„äº {emotion} æ—¶ï¼Œä½ çš„å¹³å‡äº¤æ˜“é‡‘é¢æ›´é«˜ã€‚å»ºè®®è®¾ç½®é¢„ç®—æé†’ï¼Œä¿æŒç†æ€§ã€‚',
    
    // Auth/AuthGate
    welcomeBack: 'æ¬¢è¿å›æ¥',
    createAccount: 'åˆ›å»ºä½ çš„è´¦å·',
    resetPassword: 'é‡ç½®å¯†ç ',
    login: 'ç™»å½•',
    register: 'æ³¨å†Œ',
    sendResetEmail: 'å‘é€é‡ç½®é‚®ä»¶',
    backToLogin: 'è¿”å›ç™»å½•',
    goRegister: 'å»æ³¨å†Œ',
    forgotPassword: 'å¿˜è®°å¯†ç ',
    emailLabel: 'é‚®ç®±',
    emailPlaceholder: 'è¾“å…¥ä½ çš„é‚®ç®±',
    passwordLabel: 'å¯†ç ',
    passwordPlaceholder: 'è¾“å…¥ä½ çš„å¯†ç ',
    confirmPasswordLabel: 'ç¡®è®¤å¯†ç ',
    confirmPasswordPlaceholder: 'å†æ¬¡è¾“å…¥å¯†ç ',
    passwordMismatch: 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´',
    quickTryTitle: 'å¿«é€Ÿä½“éªŒ',
    quickTryDesc: 'æ— éœ€æ³¨å†Œï¼Œç«‹å³ä½“éªŒæ‰€æœ‰åŠŸèƒ½',
    skipForNow: 'æš‚æ—¶è·³è¿‡',
    featureAnalytics: 'æ•°æ®åˆ†æ',
    featureAnalyticsSub: 'æ”¯å‡ºåˆ†å¸ƒä¸è¶‹åŠ¿',
    featureInsights: 'æ™ºèƒ½æ´å¯Ÿ',
    featureInsightsSub: 'å‘ç°æƒ…ç»ªæ¨¡å¼',
    featurePrivacy: 'éšç§ä¿æŠ¤',
    featurePrivacySub: 'æœ¬åœ°ä¸äº‘ç«¯åŒæ­¥',
    loginFailed: 'ç™»å½•å¤±è´¥',
    registerFailed: 'æ³¨å†Œå¤±è´¥',
    registerSuccessCheckEmail: 'æ³¨å†ŒæˆåŠŸã€‚è¯·åˆ°é‚®ç®±ç¡®è®¤æˆ–ç›´æ¥ç™»å½•',
    registerSuccessLocal: 'æ³¨å†ŒæˆåŠŸã€‚æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨æ‚¨çš„å‡­æ®ç™»å½•ã€‚',
    resetEmailFailed: 'é‡ç½®é‚®ä»¶å‘é€å¤±è´¥',
    resetEmailSent: 'å·²å‘é€é‡ç½®é‚®ä»¶ï¼Œè¯·æŸ¥æ”¶',
    cloudSyncNotConfigured: 'æœªé…ç½®äº‘åŒæ­¥ã€‚è¯·åœ¨é…ç½®ä¸­å¡«å†™ Supabase URL ä¸åŒ¿åå¯†é’¥åå†è¯•',
    amountInvalidTitle: 'é”™è¯¯',
    amountInvalidMessage: 'è¯·è¾“å…¥æœ‰æ•ˆé‡‘é¢',
    emotionRequiredTitle: 'æç¤º',
    emotionRequiredMessage: 'è¯·é€‰æ‹©ä¸€ä¸ªæƒ…ç»ª',
    pleaseSelectEmotion: 'è¯·é€‰æ‹©ä¸€ä¸ªæƒ…ç»ª',
    
    // Account Management
    accountManagement: 'è´¦æˆ·ç®¡ç†',
    addAccount: 'æ·»åŠ è´¦æˆ·',
    editAccount: 'ç¼–è¾‘è´¦æˆ·',
    unarchiveAccount: 'å–æ¶ˆå½’æ¡£',
    noAccountsFound: 'æœªæ‰¾åˆ°è´¦æˆ·',
    createFirstAccount: 'åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªè´¦æˆ·',
    accountCreated: 'è´¦æˆ·åˆ›å»ºæˆåŠŸ',
    accountUpdated: 'è´¦æˆ·æ›´æ–°æˆåŠŸ',
    accountArchived: 'è´¦æˆ·å½’æ¡£æˆåŠŸ',
    accountUnarchived: 'è´¦æˆ·å–æ¶ˆå½’æ¡£æˆåŠŸ',
    deleteAccountConfirm: 'ç¡®å®šè¦åˆ é™¤æ­¤è´¦æˆ·å—ï¼Ÿ',
    cannotDeleteLastAccount: 'ä¸èƒ½åˆ é™¤æœ€åä¸€ä¸ªè´¦æˆ·',
    accountName: 'è´¦æˆ·åç§°',
    accountType: 'è´¦æˆ·ç±»å‹',
    selectAccount: 'é€‰æ‹©è´¦æˆ·',
    noAccountAvailableTitle: 'æ— å¯ç”¨è´¦æˆ·',
    noAccountAvailableMessage: 'è¯·å…ˆåœ¨è®¾ç½®ä¸­æ·»åŠ ä¸€ä¸ªè´¦æˆ·',
    egSavingsAccount: 'ä¾‹å¦‚ å‚¨è“„è´¦æˆ·',
    // è´¦æˆ·ç±»å‹ï¼ˆæ–°å¢è´¦æˆ·/è´¦æˆ·åˆ—è¡¨ï¼‰
    cash: 'ç°é‡‘',
    debit_card: 'å€Ÿè®°å¡',
    credit_card: 'ä¿¡ç”¨å¡',
    prepaid_card: 'é¢„å……å¡',
    virtual_card: 'è™šæ‹Ÿå¡',
    'e-wallet': 'ç”µå­é’±åŒ…',
  },
  // Spanish translations
  es_old: {
    // Tabs
    home: 'Inicio',
    transactions: 'Transacciones',
    stats: 'EstadÃ­sticas',
    settings: 'Ajustes',
    
    // Home screen
    balance: 'Saldo',
    totalIncome: 'Ingreso total',
    totalExpense: 'Gasto total',
    thisMonth: 'Este mes',
    homeSubtitle: 'Resumen de datos',
    statsSubtitle: 'AnÃ¡lisis global de datos',
    settingsSubtitle: 'Personaliza tu experiencia',
    recentTransactions: 'Transacciones recientes',
    noTransactions: 'AÃºn no hay transacciones',
    addFirst: 'Â¡AÃ±ade tu primera transacciÃ³n!',
    
    // Add transaction
    addTransaction: 'AÃ±adir transacciÃ³n',
    income: 'Ingreso',
    expense: 'Gasto',
    amount: 'Monto',
    category: 'CategorÃ­a',
    description: 'DescripciÃ³n',
    date: 'Fecha',
    save: 'Guardar',
    cancel: 'Cancelar',
    transactionType: 'Tipo de transacciÃ³n',
    currentEmotion: 'EmociÃ³n actual',
    notePlaceholder: 'Notas (opcional)',
    
    // Categories
    food: 'Comida',
    transport: 'Transporte',
    shopping: 'Compras',
    entertainment: 'Entretenimiento',
    health: 'Salud',
    education: 'EducaciÃ³n',
    salary: 'Salario',
    freelance: 'Freelance',
    investment: 'InversiÃ³n',
    other: 'Otro',
    // Transfer
    transfer: 'Transferencia',
    fromAccount: 'Cuenta origen',
    toAccount: 'Cuenta destino',
    fee: 'ComisiÃ³n',
    operationSuccess: 'Completado',
    operationFailed: 'OperaciÃ³n fallida',
    insufficientFunds: 'Fondos insuficientes',
    cannotTransferSameAccount: 'No se puede transferir a la misma cuenta',
    account: 'Cuenta',
    creditLimit: 'LÃ­mite de crÃ©dito',
    creditLimitExceeded: 'Se superÃ³ el lÃ­mite de crÃ©dito',
    initialBalanceNonNegative: 'El saldo inicial no puede ser negativo',
    selectAccount: 'Seleccionar cuenta',
    noAccountAvailableMessage: 'Primero elige cuentas',
    cannotTransferDifferentCurrency: 'No se puede transferir entre diferentes monedas',
    
    // Settings
    language: 'Idioma',
    english: 'InglÃ©s',
    chinese: 'Chino',
    spanish: 'EspaÃ±ol',
    french: 'FrancÃ©s',
    german: 'AlemÃ¡n',
    japanese: 'JaponÃ©s',
    korean: 'Coreano',
    
    // Common
    today: 'Hoy',
    yesterday: 'Ayer',
    edit: 'Editar',
    delete: 'Eliminar',
    confirm: 'Confirmar',
    editTransaction: 'Editar transacciÃ³n',
    update: 'Actualizar',
    deleteConfirm: 'Â¿Seguro que desea eliminar esta transacciÃ³n?',
    operationLogs: 'Registro de operaciones',
    pieChart: 'DistribuciÃ³n por categorÃ­a',
    noData: 'No hay datos',
    
    // Header
    greetTitle: 'Disfruta cada dÃ­a',

    logout: 'Cerrar sesiÃ³n',
    insights: 'Ideas',
    recordsSubtitle: 'Tus registros de ingresos y gastos',
    mainEmotion: 'EmociÃ³n dominante',
    todayTopEmotion: 'EmociÃ³n dominante de hoy',
    spendTimes: 'veces',
    topCategories: 'CategorÃ­as principales',
    incomeTopCategories: 'CategorÃ­as de ingresos destacadas',
    expenseTopCategories: 'CategorÃ­as de gastos destacadas',
    timeRange: 'Rango de tiempo',
    thisYear: 'Este aÃ±o',
    all: 'Todos',
    metricByAmount: 'Por monto',
    metricByCount: 'Por conteo',
    last7Days: 'Ãšltimos 7 dÃ­as',
    last30Days: 'Ãšltimos 30 dÃ­as',
    thisWeek: 'Esta semana',
    lastWeek: 'La semana pasada',
    last14Days: 'Ãšltimos 14 dÃ­as',
    lastMonth: 'El mes pasado',
    allTime: 'Todo el tiempo',
    customRange: 'Rango personalizado',
    startDate: 'Fecha de inicio',
    endDate: 'Fecha de fin',
    apply: 'Aplicar',
    insightsSubtitle: 'La IA analiza la relaciÃ³n entre tus emociones y tus ingresos/gastos',
    emotionRanking: 'ClasificaciÃ³n de emociones',
    weeklyEmotionRanking: 'ClasificaciÃ³n de emociones de esta semana',
    patternAnalysis: 'AnÃ¡lisis de patrones de ingresos y gastos',
    smartAdvice: 'Sugerencias inteligentes',
    patternTopShareLine: '{emotion} participaciÃ³n {share}%, promedio {avg} (promedio general {overallAvg})',
    patternWeekCompareLine: 'Esta semana {amount}, vs la semana pasada {delta}%',
    adviceHighAvg: 'Consejo: Configura recordatorio/confirmaciÃ³n para "{emotion}" cuando supere {threshold}',
    adviceBudgetCap: 'Consejo: Establece tope de presupuesto semanal, alerta cerca de {cap}',
    recordMoreToSee: 'Registra algunas entradas para ver ideas',
    usedDaysPrefix: 'DÃ­as de uso:',
    daysUnit: 'dÃ­as',
    keepRecordingTip: 'Sigue registrando para comprender mejor tus emociones y tus ingresos/gastos.',
    
    // Theme
    theme: 'Tema',
    lightTheme: 'Claro',
    darkTheme: 'Oscuro',
    systemTheme: 'Seguir sistema',
    
    // Currency
    currency: 'Moneda',
    
    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'Rastrea gastos, entiende emociones, mejora tu vida',
    slogan: 'Tu billetera escribe, tu corazÃ³n habla',
    
    // Initial Balance
    initialBalance: 'Saldo inicial',
    setInitialBalance: 'Establecer saldo inicial',
    initialBalanceQuestion: 'Â¿CuÃ¡l era tu saldo antes de usar esta app?',
    initialBalanceDescription: 'Este es el monto que tenÃ­as antes de empezar a usar la app.',
    enterInitialBalance: 'Introduce tu saldo inicial',
    initialBalanceIncluded: 'Incluye saldo inicial',
    monthlyBalance: 'Saldo mensual',
    continue: 'Continuar',
    skip: 'Saltar',
    
    appVersion: 'v1.1.1',
    appDescription: 'Herramienta de finanzas personales simple y fÃ¡cil de usar',
    
    // Settings extensions
    loggedInAccount: 'Cuenta iniciada',
    logoutFailed: 'Cerrar sesiÃ³n fallÃ³',
    pleaseRetry: 'Por favor, intÃ©ntalo de nuevo',
    loginOrRegister: 'Iniciar sesiÃ³n / Registrarse',
    exportDataJSON: 'Exportar datos (JSON)',
    exportFailed: 'ExportaciÃ³n fallida',
    importDataPasteJSON: 'Importar datos (pegar JSON)',
    importData: 'Importar datos',
    pasteJsonBelow: 'Pega el contenido JSON exportado abajo:',
    pasteJsonPlaceholder: 'Pegar JSON',
    startImport: 'Iniciar importaciÃ³n',
    importSuccess: 'ImportaciÃ³n exitosa',
    importedPrefix: 'Importadas ',
    importedSuffix: ' registros',
    importFailed: 'ImportaciÃ³n fallida',
    checkJson: 'Por favor revisa el contenido JSON',
    emotionTagManagement: 'GestiÃ³n de etiquetas de emociÃ³n',
    add: 'AÃ±adir',
    addEmotionTag: 'AÃ±adir etiqueta de emociÃ³n',
    emoji: 'Emoji',
    egEmoji: 'p. ej. ğŸ˜Š',
    name: 'Nombre',
    egHappy: 'p. ej. Feliz',
    pleaseEnterName: 'Por favor introduce un nombre',
    emotionTags: 'Etiquetas de emociÃ³n',
    resetEmotionTagsToDefault: 'Restablecer emociones predeterminadas',
    resetEmotionTagsRestored: 'Emociones predeterminadas restauradas',
    usageDays: 'DÃ­as de uso',
    
    // Emotions (default tags)
    'å¼€å¿ƒ': 'Feliz',
    'ç„¦è™‘': 'Ansioso',
    'å­¤ç‹¬': 'Solitario',
    'æ— èŠ': 'Aburrido',
    'å¥–åŠ±è‡ªå·±': 'Premiarme',
    'å‹åŠ›å¤§': 'Estresado',
    'å…´å¥‹': 'Emocionado',
    'éš¾è¿‡': 'Triste',
    
    // Insights tip
    analysisTip: 'Cuando estÃ¡s {emotion}, el importe medio de tus transacciones es mayor. Considera configurar un recordatorio de presupuesto para mantenerte racional.',
    
    // Auth/AuthGate
    welcomeBack: 'Bienvenido de nuevo',
    createAccount: 'Crea tu cuenta',
    resetPassword: 'Restablecer contraseÃ±a',
    login: 'Iniciar sesiÃ³n',
    register: 'Registrarse',
    sendResetEmail: 'Enviar correo de restablecimiento',
    backToLogin: 'Volver al inicio de sesiÃ³n',
    goRegister: 'Ir a registrarse',
    forgotPassword: 'OlvidÃ© mi contraseÃ±a',
    emailLabel: 'Correo electrÃ³nico',
    emailPlaceholder: 'Introduce tu correo',
    passwordLabel: 'ContraseÃ±a',
    passwordPlaceholder: 'Introduce tu contraseÃ±a',
    confirmPasswordLabel: 'Confirmar contraseÃ±a',
    confirmPasswordPlaceholder: 'Vuelve a introducir la contraseÃ±a',
    passwordMismatch: 'Las contraseÃ±as no coinciden',
    quickTryTitle: 'Prueba rÃ¡pida',
    quickTryDesc: 'No necesitas registrarte, prueba todas las funciones ahora',
    skipForNow: 'Omitir por ahora',
    featureAnalytics: 'AnalÃ­tica',
    featureAnalyticsSub: 'DistribuciÃ³n y tendencias de gasto',
    featureInsights: 'Ideas',
    featureInsightsSub: 'Descubre patrones de emociÃ³n',
    featurePrivacy: 'Privacidad',
    featurePrivacySub: 'SincronizaciÃ³n local y en la nube',
    loginFailed: 'Inicio de sesiÃ³n fallido',
    registerFailed: 'Registro fallido',
    registerSuccessCheckEmail: 'Registro exitoso. Verifique su correo electrÃ³nico o inicie sesiÃ³n directamente',
    registerSuccessLocal: 'Registro exitoso. Ahora puede iniciar sesiÃ³n con sus credenciales.',
    resetEmailFailed: 'Error al enviar el correo de restablecimiento',
    resetEmailSent: 'Correo de restablecimiento enviado. Por favor revisa tu bandeja de entrada',
    cloudSyncNotConfigured: 'La sincronizaciÃ³n en la nube no estÃ¡ configurada. Configure la URL y clave anon de Supabase e intÃ©ntelo de nuevo',
    amountInvalidTitle: 'Error',
    amountInvalidMessage: 'Por favor introduce un monto vÃ¡lido',
  },
  
  // French translations
  fr: {
    // Tabs
    home: 'Accueil',
    transactions: 'Transactions',
    stats: 'Statistiques',
    settings: 'ParamÃ¨tres',
    
    // Home screen
    balance: 'Solde',
    totalIncome: 'Revenus totaux',
    totalExpense: 'DÃ©penses totales',
    thisMonth: 'Ce mois-ci',
    homeSubtitle: 'AperÃ§u des donnÃ©es',
    statsSubtitle: 'Analyse globale des donnÃ©es',
    settingsSubtitle: 'Personnalisez votre expÃ©rience',
    recentTransactions: 'Transactions rÃ©centes',
    noTransactions: 'Aucune transaction pour le moment',
    addFirst: 'Ajoutez votre premiÃ¨re transaction !',
    
    // Add transaction
    addTransaction: 'Ajouter une transaction',
    income: 'Revenu',
    expense: 'DÃ©pense',
    amount: 'Montant',
    category: 'CatÃ©gorie',
    description: 'Description',
    date: 'Date',
    save: 'Enregistrer',
    cancel: 'Annuler',
    transactionType: 'Type de transaction',
    currentEmotion: 'Ã‰motion actuelle',
    notePlaceholder: 'Notes (optionnel)',
    
    // Categories
    food: 'Alimentation',
    transport: 'Transport',
    shopping: 'Shopping',
    entertainment: 'Divertissement',
    health: 'SantÃ©',
    education: 'Ã‰ducation',
    salary: 'Salaire',
    freelance: 'Freelance',
    investment: 'Investissement',
    other: 'Autre',
    // Transfer
    transfer: 'Virement',
    fromAccount: 'Compte source',
    toAccount: 'Compte destinataire',
    fee: 'Frais',
    operationSuccess: 'TerminÃ©',
    operationFailed: 'Ã‰chec de l\'opÃ©ration',
    insufficientFunds: 'Fonds insuffisants',
    cannotTransferSameAccount: 'Impossible de transfÃ©rer vers le mÃªme compte',
    account: 'Compte',
    creditLimit: 'Plafond de crÃ©dit',
    creditLimitExceeded: 'Plafond de crÃ©dit dÃ©passÃ©',
    initialBalanceNonNegative: 'Le solde initial ne peut pas Ãªtre nÃ©gatif',
    selectAccount: 'SÃ©lectionner un compte',
    noAccountAvailableMessage: 'Veuillez d\'abord choisir des comptes',
    cannotTransferDifferentCurrency: 'Impossible de transfÃ©rer entre des devises diffÃ©rentes',
    
    // Settings
    language: 'Langue',
    english: 'Anglais',
    chinese: 'Chinois',
    spanish: 'Espagnol',
    french: 'FranÃ§ais',
    german: 'Allemand',
    japanese: 'Japonais',
    korean: 'CorÃ©en',
    
    // Common
    today: 'Aujourd\'hui',
    yesterday: 'Hier',
    edit: 'Modifier',
    delete: 'Supprimer',
    confirm: 'Confirmer',
    editTransaction: 'Modifier la transaction',
    update: 'Mettre Ã  jour',
    deleteConfirm: 'ÃŠtes-vous sÃ»r de vouloir supprimer cette transaction ?',
    operationLogs: 'Journaux d\'opÃ©rations',
    pieChart: 'RÃ©partition par catÃ©gorie',
    noData: 'Aucune donnÃ©e',
    
    // Header
    greetTitle: 'Profitez de chaque jour',

    logout: 'Se dÃ©connecter',
    insights: 'AperÃ§us',
    recordsSubtitle: 'Vos enregistrements de revenus et dÃ©penses',
    mainEmotion: 'Ã‰motion dominante',
    todayTopEmotion: 'Ã‰motion dominante d\'aujourd\'hui',
    spendTimes: 'fois',
    topCategories: 'CatÃ©gories principales',
    incomeTopCategories: 'CatÃ©gories de revenus populaires',
    expenseTopCategories: 'CatÃ©gories de dÃ©penses populaires',
    timeRange: 'PÃ©riode',
    thisYear: 'Cette annÃ©e',
    all: 'Tout',
    metricByAmount: 'Par montant',
    metricByCount: 'Par nombre',
    last7Days: '7 derniers jours',
    last30Days: '30 derniers jours',
    thisWeek: 'Cette semaine',
    lastWeek: 'La semaine derniÃ¨re',
    last14Days: '14 derniers jours',
    lastMonth: 'Le mois dernier',
    allTime: 'Toute la pÃ©riode',
    customRange: 'Plage personnalisÃ©e',
    startDate: 'Date de dÃ©but',
    endDate: 'Date de fin',
    apply: 'Appliquer',
    insightsSubtitle: 'L\'IA analyse la relation entre vos Ã©motions et vos revenus/dÃ©penses',
    emotionRanking: 'Classement des Ã©motions',
    weeklyEmotionRanking: 'Classement des Ã©motions de la semaine',
    patternAnalysis: 'Analyse des modÃ¨les de revenus et de dÃ©penses',
    smartAdvice: 'Conseils intelligents',
    patternTopShareLine: 'Part de {emotion} {share} %, moy. {avg} (moy. globale {overallAvg})',
    patternWeekCompareLine: 'Cette semaine {amount}, vs la semaine derniÃ¨re {delta} %',
    adviceHighAvg: 'Conseil : DÃ©finir rappel/confirmation pour Â« {emotion} Â» au-delÃ  de {threshold}',
    adviceBudgetCap: 'Conseil : DÃ©finir un plafond de budget hebdo, alerte prÃ¨s de {cap}',
    recordMoreToSee: 'Enregistrez quelques entrÃ©es pour voir les aperÃ§us',
    usedDaysPrefix: 'Jours d\'utilisation :',
    daysUnit: 'jours',
    keepRecordingTip: 'Continuez Ã  enregistrer pour mieux comprendre vos Ã©motions et vos revenus/dÃ©penses.',
    
    // Theme
    theme: 'ThÃ¨me',
    lightTheme: 'Clair',
    darkTheme: 'Sombre',
    systemTheme: 'Suivre le systÃ¨me',
    
    // Currency
    currency: 'Devise',
    
    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'Suivez vos dÃ©penses, comprenez vos Ã©motions, amÃ©liorez votre vie',
    slogan: 'Votre portefeuille Ã©crit, votre cÅ“ur parle',
    
    // Initial Balance
    initialBalance: 'Solde initial',
    setInitialBalance: 'DÃ©finir le solde initial',
    initialBalanceQuestion: 'Quel Ã©tait votre solde avant d\'utiliser cette application ?',
    initialBalanceDescription: 'C\'est le montant que vous aviez avant de commencer Ã  utiliser l\'application.',
    enterInitialBalance: 'Saisissez votre solde initial',
    initialBalanceIncluded: 'Solde initial inclus',
    monthlyBalance: 'Solde mensuel',
    continue: 'Continuer',
    skip: 'Ignorer',
    
    appVersion: 'v1.1.1',
    appDescription: 'Outil de finances personnelles simple et facile Ã  utiliser',
    
    // Settings extensions
    loggedInAccount: 'Compte connectÃ©',
    logoutFailed: 'Ã‰chec de la dÃ©connexion',
    pleaseRetry: 'Veuillez rÃ©essayer',
    loginOrRegister: 'Se connecter / S\'inscrire',
    exportDataJSON: 'Exporter les donnÃ©es (JSON)',
    exportFailed: 'Ã‰chec de l\'exportation',
    importDataPasteJSON: 'Importer des donnÃ©es (coller JSON)',
    importData: 'Importer des donnÃ©es',
    pasteJsonBelow: 'Collez ci-dessous le contenu JSON exportÃ© :',
    pasteJsonPlaceholder: 'Coller JSON',
    startImport: 'Commencer l\'importation',
    importSuccess: 'Importation rÃ©ussie',
    importedPrefix: 'ImportÃ© ',
    importedSuffix: ' enregistrements',
    importFailed: 'Ã‰chec de l\'importation',
    checkJson: 'Veuillez vÃ©rifier le contenu JSON',
    emotionTagManagement: 'Gestion des Ã©tiquettes d\'Ã©motion',
    add: 'Ajouter',
    addEmotionTag: 'Ajouter une Ã©tiquette d\'Ã©motion',
    emoji: 'Emoji',
    egEmoji: 'ex. ğŸ˜Š',
    name: 'Nom',
    egHappy: 'ex. Heureux',
    pleaseEnterName: 'Veuillez entrer un nom',
    emotionTags: 'Ã‰tiquettes d\'Ã©motion',
    resetEmotionTagsToDefault: 'RÃ©initialiser les Ã©motions par dÃ©faut',
    resetEmotionTagsRestored: 'Ã‰motions par dÃ©faut rÃ©tablies',
    usageDays: 'Jours d\'utilisation',
    
    // Emotions (default tags)
    'å¼€å¿ƒ': 'Heureux',
    'ç„¦è™‘': 'Anxieux',
    'å­¤ç‹¬': 'Solitaire',
    'æ— èŠ': 'EnnuyÃ©',
    'å¥–åŠ±è‡ªå·±': 'Me rÃ©compenser',
    'å‹åŠ›å¤§': 'StressÃ©',
    'å…´å¥‹': 'ExcitÃ©',
    'éš¾è¿‡': 'Triste',
    
    // Insights tip
    analysisTip: 'Quand vous Ãªtes {emotion}, le montant moyen de vos transactions est plus Ã©levÃ©. Envisagez de dÃ©finir un rappel de budget pour rester rationnel.',
    
    // Auth/AuthGate
    welcomeBack: 'Bon retour',
    createAccount: 'CrÃ©ez votre compte',
    resetPassword: 'RÃ©initialiser le mot de passe',
    login: 'Connexion',
    register: 'S\'inscrire',
    sendResetEmail: 'Envoyer l\'e-mail de rÃ©initialisation',
    backToLogin: 'Retour Ã  la connexion',
    goRegister: 'Aller Ã  l\'inscription',
    forgotPassword: 'Mot de passe oubliÃ©',
    emailLabel: 'E-mail',
    emailPlaceholder: 'Entrez votre e-mail',
    passwordLabel: 'Mot de passe',
    passwordPlaceholder: 'Entrez votre mot de passe',
    confirmPasswordLabel: 'Confirmez le mot de passe',
    confirmPasswordPlaceholder: 'Saisissez Ã  nouveau le mot de passe',
    passwordMismatch: 'Les mots de passe ne correspondent pas',
    quickTryTitle: 'Essai rapide',
    quickTryDesc: 'Pas d\'inscription requise, essayez toutes les fonctionnalitÃ©s maintenant',
    skipForNow: 'Passer pour l\'instant',
    featureAnalytics: 'Analyses',
    featureAnalyticsSub: 'RÃ©partition et tendances des dÃ©penses',
    featureInsights: 'AperÃ§us',
    featureInsightsSub: 'DÃ©couvrir des schÃ©mas d\'Ã©motions',
    featurePrivacy: 'ConfidentialitÃ©',
    featurePrivacySub: 'Synchronisation locale et cloud',
    loginFailed: 'Ã‰chec de la connexion',
    registerFailed: 'Ã‰chec de l\'inscription',
    registerSuccessCheckEmail: 'Inscription rÃ©ussie. VÃ©rifiez votre e-mail ou connectez-vous directement',
    registerSuccessLocal: 'Inscription rÃ©ussie. Vous pouvez maintenant vous connecter avec vos identifiants.',
    resetEmailFailed: 'Ã‰chec de l\'envoi de l\'e-mail de rÃ©initialisation',
    resetEmailSent: 'E-mail de rÃ©initialisation envoyÃ©. Veuillez vÃ©rifier votre boÃ®te de rÃ©ception',
    cloudSyncNotConfigured: 'La synchronisation cloud n\'est pas configurÃ©e. Veuillez dÃ©finir l\'URL Supabase et la clÃ© anonyme dans la configuration puis rÃ©essayer',
    amountInvalidTitle: 'Erreur',
    amountInvalidMessage: 'Veuillez saisir un montant valide',
    emotionRequiredTitle: 'Avertissement',
    emotionRequiredMessage: 'Veuillez sÃ©lectionner une Ã©motion',
    pleaseSelectEmotion: 'Veuillez sÃ©lectionner une Ã©motion',
  },
  
  // Spanish translations
  es: {
    // Tabs
    home: 'Inicio',
    transactions: 'Transacciones',
    stats: 'EstadÃ­sticas',
    settings: 'Ajustes',
    
    // Home screen
    balance: 'Saldo',
    totalIncome: 'Ingresos totales',
    totalExpense: 'Gastos totales',
    thisMonth: 'Este mes',
    homeSubtitle: 'Resumen de datos',
    statsSubtitle: 'AnÃ¡lisis global de datos',
    settingsSubtitle: 'Personaliza tu experiencia',
    recentTransactions: 'Transacciones recientes',
    noTransactions: 'AÃºn no hay transacciones',
    addFirst: 'Â¡Agrega tu primera transacciÃ³n!',
    
    // Add transaction
    addTransaction: 'Agregar transacciÃ³n',
    income: 'Ingreso',
    expense: 'Gasto',
    amount: 'Monto',
    category: 'CategorÃ­a',
    description: 'DescripciÃ³n',
    date: 'Fecha',
    save: 'Guardar',
    cancel: 'Cancelar',
    transactionType: 'Tipo de transacciÃ³n',
    currentEmotion: 'EmociÃ³n actual',
    notePlaceholder: 'Notas (opcional)',
    
    // Categories
    food: 'Comida',
    transport: 'Transporte',
    shopping: 'Compras',
    entertainment: 'Entretenimiento',
    health: 'Salud',
    education: 'EducaciÃ³n',
    salary: 'Salario',
    freelance: 'Freelance',
    investment: 'InversiÃ³n',
    other: 'Otros',
    // Transfer
    transfer: 'Transferencia',
    
    // Settings
    language: 'Idioma',
    english: 'InglÃ©s',
    chinese: 'Chino',
    spanish: 'EspaÃ±ol',
    french: 'FrancÃ©s',
    german: 'AlemÃ¡n',
    japanese: 'JaponÃ©s',
    korean: 'Coreano',
    
    // Common
    today: 'Hoy',
    yesterday: 'Ayer',
    edit: 'Editar',
    delete: 'Eliminar',
    confirm: 'Confirmar',
    editTransaction: 'Editar transacciÃ³n',
    update: 'Actualizar',
    deleteConfirm: 'Â¿Seguro que deseas eliminar esta transacciÃ³n?',
    operationLogs: 'Registros de operaciones',
    pieChart: 'DistribuciÃ³n por categorÃ­as',
    noData: 'No hay datos',
    
    // Header
    greetTitle: 'Disfruta cada dÃ­a',

    logout: 'Cerrar sesiÃ³n',
    insights: 'Ideas',
    recordsSubtitle: 'Tus registros de ingresos y gastos',
    mainEmotion: 'EmociÃ³n dominante',
    spendTimes: 'veces',
    topCategories: 'CategorÃ­as principales',
    incomeTopCategories: 'CategorÃ­as de ingresos destacadas',
    expenseTopCategories: 'CategorÃ­as de gastos destacadas',
    timeRange: 'Rango de tiempo',
    thisYear: 'Este aÃ±o',
    all: 'Todos',
    metricByAmount: 'Por monto',
    metricByCount: 'Por conteo',
    insightsSubtitle: 'La IA analiza la relaciÃ³n entre tus emociones y tus ingresos/gastos',
    emotionRanking: 'Ranking de emociones',
    weeklyEmotionRanking: 'Ranking de emociones de esta semana',
    patternAnalysis: 'AnÃ¡lisis de patrones de ingresos y gastos',
    smartAdvice: 'Sugerencias inteligentes',
    recordMoreToSee: 'Registra algunas entradas para ver ideas',
    usedDaysPrefix: 'DÃ­as de uso:',
    daysUnit: 'dÃ­as',
    keepRecordingTip: 'Sigue registrando para comprender mejor tus emociones y tus ingresos/gastos.',
    
    // Theme
    theme: 'Tema',
    lightTheme: 'Claro',
    darkTheme: 'Oscuro',
    systemTheme: 'Seguir sistema',
    
    // Currency
    currency: 'Moneda',
    
    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'Registra gastos, entiende emociones, mejora tu vida',
    slogan: 'Tu cartera escribe, tu corazÃ³n habla',
    
    // Initial Balance
    initialBalance: 'Saldo inicial',
    setInitialBalance: 'Establecer saldo inicial',
    initialBalanceQuestion: 'Â¿CuÃ¡l era tu saldo antes de usar la app?',
    initialBalanceDescription: 'Es la cantidad que tenÃ­as antes de empezar a usar la app.',
    enterInitialBalance: 'Introduce tu saldo inicial',
    initialBalanceIncluded: 'Saldo inicial incluido',
    monthlyBalance: 'Saldo mensual',
    continue: 'Continuar',
    skip: 'Omitir',
    
    appVersion: 'v1.1.1',
    appDescription: 'Herramienta financiera simple y fÃ¡cil de usar',
    
    // Settings extensions
    loggedInAccount: 'Cuenta iniciada',
    logoutFailed: 'Cerrar sesiÃ³n fallÃ³',
    pleaseRetry: 'Intenta de nuevo',
    loginOrRegister: 'Iniciar sesiÃ³n / Registrarse',
    exportDataJSON: 'Exportar datos (JSON)',
    exportFailed: 'ExportaciÃ³n fallida',
    importDataPasteJSON: 'Importar datos (pegar JSON)',
    importData: 'Importar datos',
    pasteJsonBelow: 'Pega abajo el JSON exportado:',
    pasteJsonPlaceholder: 'Pegar JSON',
    startImport: 'Iniciar importaciÃ³n',
    importSuccess: 'ImportaciÃ³n exitosa',
    importedPrefix: 'Importados ',
    importedSuffix: ' elementos',
    importFailed: 'ImportaciÃ³n fallida',
    checkJson: 'Verifica el contenido JSON',
    emotionTagManagement: 'GestiÃ³n de etiquetas de emociÃ³n',
    add: 'AÃ±adir',
    addEmotionTag: 'AÃ±adir etiqueta de emociÃ³n',
    emoji: 'Emoji',
    egEmoji: 'p. ej. ğŸ˜Š',
    name: 'Nombre',
    egHappy: 'p. ej. Feliz',
    pleaseEnterName: 'Introduce un nombre',
    emotionTags: 'Etiquetas de emociÃ³n',
    usageDays: 'DÃ­as de uso',
    
    // Emotions (default tags)
    'å¼€å¿ƒ': 'Feliz',
    'ç„¦è™‘': 'Ansioso',
    'å­¤ç‹¬': 'Solitario',
    'æ— èŠ': 'Aburrido',
    'å¥–åŠ±è‡ªå·±': 'Recompensarme',
    'å‹åŠ›å¤§': 'Estresado',
    'å…´å¥‹': 'Emocionado',
    'éš¾è¿‡': 'Triste',
    
    // Insights tip
    analysisTip: 'Cuando estÃ¡s {emotion}, el importe medio de tus transacciones es mayor. Considera configurar un recordatorio de presupuesto para mantenerte racional.',
    
    // Auth/AuthGate
    welcomeBack: 'Bienvenido de nuevo',
    createAccount: 'Crea tu cuenta',
    resetPassword: 'Restablecer contraseÃ±a',
    login: 'Iniciar sesiÃ³n',
    register: 'Registrarse',
    sendResetEmail: 'Enviar correo de restablecimiento',
    backToLogin: 'Volver al inicio de sesiÃ³n',
    goRegister: 'Ir a registrarse',
    forgotPassword: 'Â¿Olvidaste tu contraseÃ±a?',
    emailLabel: 'Correo',
    emailPlaceholder: 'Introduce tu correo',
    passwordLabel: 'ContraseÃ±a',
    passwordPlaceholder: 'Introduce tu contraseÃ±a',
    confirmPasswordLabel: 'Confirmar contraseÃ±a',
    confirmPasswordPlaceholder: 'Vuelve a introducir',
    passwordMismatch: 'Las contraseÃ±as no coinciden',
    quickTryTitle: 'Prueba rÃ¡pida',
    quickTryDesc: 'Sin registro, prueba todas las funciones ahora',
    skipForNow: 'Saltar por ahora',
    featureAnalytics: 'AnalÃ­tica',
    featureAnalyticsSub: 'DistribuciÃ³n y tendencias de gasto',
    featureInsights: 'Ideas',
    featureInsightsSub: 'Descubre patrones emocionales',
    featurePrivacy: 'Privacidad',
    featurePrivacySub: 'SincronizaciÃ³n local y en la nube',
    loginFailed: 'Inicio de sesiÃ³n fallido',
    registerFailed: 'Registro fallido',
    registerSuccessCheckEmail: 'Registro exitoso. Revisa tu correo o inicia sesiÃ³n directamente',
    registerSuccessLocal: 'Registro exitoso. Ahora puedes iniciar sesiÃ³n con tus credenciales.',
    resetEmailFailed: 'Fallo al enviar el correo de restablecimiento',
    resetEmailSent: 'Correo de restablecimiento enviado. Revisa tu bandeja',
    cloudSyncNotConfigured: 'La sincronizaciÃ³n en la nube no estÃ¡ configurada. Define la URL de Supabase y la clave anon en la configuraciÃ³n y vuelve a intentarlo',
    amountInvalidTitle: 'Error',
    amountInvalidMessage: 'Por favor, introduce un monto vÃ¡lido',
    emotionRequiredTitle: 'Aviso',
    emotionRequiredMessage: 'Por favor, selecciona una emociÃ³n',
    pleaseSelectEmotion: 'Por favor, selecciona una emociÃ³n',
  },

  // German translations
  de: {
    // Tabs
    home: 'Startseite',
    transactions: 'Transaktionen',
    stats: 'Statistiken',
    settings: 'Einstellungen',
    
    // Home screen
    balance: 'Kontostand',
    totalIncome: 'Gesamteinnahmen',
    totalExpense: 'Gesamtausgaben',
    thisMonth: 'Diesen Monat',
    homeSubtitle: 'DatenÃ¼bersicht',
    statsSubtitle: 'Globale Datenanalyse',
    settingsSubtitle: 'Personalisieren Sie Ihr Erlebnis',
    recentTransactions: 'Letzte Transaktionen',
    noTransactions: 'Noch keine Transaktionen',
    addFirst: 'FÃ¼gen Sie Ihre erste Transaktion hinzu!',
    
    // Add transaction
    addTransaction: 'Transaktion hinzufÃ¼gen',
    income: 'Einnahme',
    expense: 'Ausgabe',
    amount: 'Betrag',
    category: 'Kategorie',
    description: 'Beschreibung',
    date: 'Datum',
    save: 'Speichern',
    cancel: 'Abbrechen',
    transactionType: 'Transaktionsart',
    currentEmotion: 'Aktuelle Emotion',
    notePlaceholder: 'Notizen (optional)',
    
    // Categories
    food: 'Essen',
    transport: 'Transport',
    shopping: 'Einkauf',
    entertainment: 'Unterhaltung',
    health: 'Gesundheit',
    education: 'Bildung',
    salary: 'Gehalt',
    freelance: 'Freiberuflich',
    investment: 'Investition',
    other: 'Sonstiges',
    // Transfer
    transfer: 'Ãœberweisung',
    fromAccount: 'Quellkonto',
    toAccount: 'Zielkonto',
    fee: 'GebÃ¼hr',
    operationSuccess: 'Abgeschlossen',
    operationFailed: 'Vorgang fehlgeschlagen',
    insufficientFunds: 'Unzureichendes Guthaben',
    cannotTransferSameAccount: 'Ãœberweisung auf dasselbe Konto ist nicht mÃ¶glich',
    account: 'Konto',
    creditLimit: 'Kreditlimit',
    creditLimitExceeded: 'Kreditlimit Ã¼berschritten',
    initialBalanceNonNegative: 'Anfangssaldo darf nicht negativ sein',
    selectAccount: 'Konto auswÃ¤hlen',
    noAccountAvailableMessage: 'Bitte zuerst Konten auswÃ¤hlen',
    cannotTransferDifferentCurrency: 'Ãœberweisungen zwischen unterschiedlichen WÃ¤hrungen sind nicht mÃ¶glich',
    
    // Settings
    language: 'Sprache',
    english: 'Englisch',
    chinese: 'Chinesisch',
    spanish: 'Spanisch',
    french: 'FranzÃ¶sisch',
    german: 'Deutsch',
    japanese: 'Japanisch',
    korean: 'Koreanisch',
    
    // Common
    today: 'Heute',
    yesterday: 'Gestern',
    edit: 'Bearbeiten',
    delete: 'LÃ¶schen',
    confirm: 'BestÃ¤tigen',
    editTransaction: 'Transaktion bearbeiten',
    update: 'Aktualisieren',
    deleteConfirm: 'MÃ¶chten Sie diese Transaktion wirklich lÃ¶schen?',
    operationLogs: 'Vorgangsprotokolle',
    pieChart: 'Kategorienverteilung',
    noData: 'Keine Daten verfÃ¼gbar',
    
    // Header
    greetTitle: 'GenieÃŸen Sie jeden Tag',

    logout: 'Abmelden',
    insights: 'Einblicke',
    recordsSubtitle: 'Ihre Einnahmen- und Ausgabenaufzeichnungen',
    mainEmotion: 'Dominierende Emotion',
    todayTopEmotion: 'Heutige dominierende Emotion',
    spendTimes: 'mal',
    topCategories: 'Top-Kategorien',
    incomeTopCategories: 'Beliebte Einnahmenkategorien',
    expenseTopCategories: 'Beliebte Ausgabenkategorien',
    timeRange: 'Zeitraum',
    thisYear: 'Dieses Jahr',
    all: 'Alle',
    metricByAmount: 'Nach Betrag',
    metricByCount: 'Nach Anzahl',
    last7Days: 'Letzte 7 Tage',
    last30Days: 'Letzte 30 Tage',
    thisWeek: 'Diese Woche',
    lastWeek: 'Letzte Woche',
    last14Days: 'Letzte 14 Tage',
    lastMonth: 'Letzter Monat',
    allTime: 'Gesamter Zeitraum',
    customRange: 'Benutzerdefinierter Zeitraum',
    startDate: 'Startdatum',
    endDate: 'Enddatum',
    apply: 'Anwenden',
    insightsSubtitle: 'Die KI analysiert den Zusammenhang zwischen Ihren Emotionen sowie Einnahmen/Ausgaben',
    emotionRanking: 'Emotionsrangliste',
    weeklyEmotionRanking: 'WÃ¶chentliche Emotionsrangliste',
    patternAnalysis: 'Musteranalyse von Einnahmen und Ausgaben',
    smartAdvice: 'Intelligente VorschlÃ¤ge',
    patternTopShareLine: '{emotion}-Anteil {share}%, Schnitt {avg} (Gesamtschnitt {overallAvg})',
    patternWeekCompareLine: 'Diese Woche {amount}, ggÃ¼. letzter Woche {delta}%',
    adviceHighAvg: 'Tipp: Erinnerung/BestÃ¤tigung fÃ¼r â€{emotion}â€œ Ã¼ber {threshold} setzen',
    adviceBudgetCap: 'Tipp: WÃ¶chentliches Budgetlimit festlegen, Warnung nahe {cap}',
    recordMoreToSee: 'Nehmen Sie einige EintrÃ¤ge auf, um Einblicke zu sehen',
    usedDaysPrefix: 'Nutzungstage:',
    daysUnit: 'Tage',
    keepRecordingTip: 'FÃ¼hren Sie Aufzeichnungen, um Emotionen sowie Einnahmen/Ausgaben besser zu verstehen.',
    
    // Theme
    theme: 'Thema',
    lightTheme: 'Hell',
    darkTheme: 'Dunkel',
    systemTheme: 'System folgen',
    
    // Currency
    currency: 'WÃ¤hrung',
    
    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'Ausgaben verfolgen, Emotionen verstehen, Leben verbessern',
    slogan: 'Deine Brieftasche schreibt, dein Herz spricht',
    
    // Initial Balance
    initialBalance: 'Anfangssaldo',
    setInitialBalance: 'Anfangssaldo festlegen',
    initialBalanceQuestion: 'Wie war Ihr Kontostand vor der Nutzung der App?',
    initialBalanceDescription: 'Dies ist der Betrag vor der Nutzung der App.',
    enterInitialBalance: 'Anfangssaldo eingeben',
    initialBalanceIncluded: 'Anfangssaldo enthalten',
    monthlyBalance: 'Monatssaldo',
    continue: 'Weiter',
    skip: 'Ãœberspringen',
    
    appVersion: 'v1.1.1',
    appDescription: 'Einfache und benutzerfreundliche Finanz-App',
    
    // Settings extensions
    loggedInAccount: 'Angemeldetes Konto',
    logoutFailed: 'Abmelden fehlgeschlagen',
    pleaseRetry: 'Bitte erneut versuchen',
    loginOrRegister: 'Anmelden / Registrieren',
    exportDataJSON: 'Daten exportieren (JSON)',
    exportFailed: 'Export fehlgeschlagen',
    importDataPasteJSON: 'Daten importieren (JSON einfÃ¼gen)',
    importData: 'Daten importieren',
    pasteJsonBelow: 'FÃ¼gen Sie unten den exportierten JSON-Inhalt ein:',
    pasteJsonPlaceholder: 'JSON einfÃ¼gen',
    startImport: 'Import starten',
    importSuccess: 'Import erfolgreich',
    importedPrefix: 'Importiert ',
    importedSuffix: ' EintrÃ¤ge',
    importFailed: 'Import fehlgeschlagen',
    checkJson: 'Bitte JSON-Inhalt prÃ¼fen',
    emotionTagManagement: 'Emotions-Tags verwalten',
    add: 'HinzufÃ¼gen',
    addEmotionTag: 'Emotions-Tag hinzufÃ¼gen',
    emoji: 'Emoji',
    egEmoji: 'z. B. ğŸ˜Š',
    name: 'Name',
    egHappy: 'z. B. GlÃ¼cklich',
    pleaseEnterName: 'Bitte einen Namen eingeben',
    emotionTags: 'Emotions-Tags',
    resetEmotionTagsToDefault: 'Standard-Emotionen wiederherstellen',
    resetEmotionTagsRestored: 'Standard-Emotionen wiederhergestellt',
    usageDays: 'Nutzungstage',
    
    // Emotions (default tags)
    'å¼€å¿ƒ': 'GlÃ¼cklich',
    'ç„¦è™‘': 'Ã„ngstlich',
    'å­¤ç‹¬': 'Einsam',
    'æ— èŠ': 'Gelangweilt',
    'å¥–åŠ±è‡ªå·±': 'Mich belohnen',
    'å‹åŠ›å¤§': 'Gestresst',
    'å…´å¥‹': 'Aufgeregt',
    'éš¾è¿‡': 'Traurig',
    
    // Insights tip
    analysisTip: 'Wenn Sie {emotion} sind, ist Ihr durchschnittlicher Transaktionsbetrag hÃ¶her. Legen Sie eine Budgeterinnerung fest, um rational zu bleiben.',
    
    // Auth/AuthGate
    welcomeBack: 'Willkommen zurÃ¼ck',
    createAccount: 'Erstellen Sie Ihr Konto',
    resetPassword: 'Passwort zurÃ¼cksetzen',
    login: 'Anmelden',
    register: 'Registrieren',
    sendResetEmail: 'ZurÃ¼cksetzungs-E-Mail senden',
    backToLogin: 'ZurÃ¼ck zur Anmeldung',
    goRegister: 'Zur Registrierung',
    forgotPassword: 'Passwort vergessen',
    emailLabel: 'E-Mail',
    emailPlaceholder: 'E-Mail eingeben',
    passwordLabel: 'Passwort',
    passwordPlaceholder: 'Passwort eingeben',
    confirmPasswordLabel: 'Passwort bestÃ¤tigen',
    confirmPasswordPlaceholder: 'Passwort erneut eingeben',
    passwordMismatch: 'PasswÃ¶rter stimmen nicht Ã¼berein',
    quickTryTitle: 'Schnelltest',
    quickTryDesc: 'Keine Registrierung nÃ¶tig, testen Sie jetzt alle Funktionen',
    skipForNow: 'VorlÃ¤ufig Ã¼berspringen',
    featureAnalytics: 'Analysen',
    featureAnalyticsSub: 'Ausgabenverteilung und Trends',
    featureInsights: 'Einblicke',
    featureInsightsSub: 'Emotionale Muster entdecken',
    featurePrivacy: 'PrivatsphÃ¤re',
    featurePrivacySub: 'Lokal- und Cloud-Sync',
    loginFailed: 'Anmeldung fehlgeschlagen',
    registerFailed: 'Registrierung fehlgeschlagen',
    registerSuccessCheckEmail: 'Registrierung erfolgreich. PrÃ¼fen Sie Ihr E-Mail-Postfach oder melden Sie sich direkt an',
    registerSuccessLocal: 'Registrierung erfolgreich. Sie kÃ¶nnen sich jetzt mit Ihren Anmeldedaten anmelden.',
    resetEmailFailed: 'ZurÃ¼cksetzungs-E-Mail senden fehlgeschlagen',
    resetEmailSent: 'ZurÃ¼cksetzungs-E-Mail gesendet. Bitte Posteingang prÃ¼fen',
    cloudSyncNotConfigured: 'Cloud-Synchronisierung ist nicht konfiguriert. Bitte Supabase-URL und anon key setzen und erneut versuchen',
    amountInvalidTitle: 'Fehler',
    amountInvalidMessage: 'Bitte geben Sie einen gÃ¼ltigen Betrag ein',
    emotionRequiredTitle: 'Hinweis',
    emotionRequiredMessage: 'Bitte wÃ¤hlen Sie eine Emotion aus',
    pleaseSelectEmotion: 'Bitte wÃ¤hlen Sie eine Emotion aus',
  },
  
  // Japanese translations
  ja: {
    // Tabs
    home: 'ãƒ›ãƒ¼ãƒ ',
    transactions: 'å–å¼•',
    stats: 'çµ±è¨ˆ',
    settings: 'è¨­å®š',

    // Home screen
    balance: 'æ®‹é«˜',
    totalIncome: 'ç·åå…¥',
    totalExpense: 'ç·æ”¯å‡º',
    thisMonth: 'ä»Šæœˆ',
    homeSubtitle: 'ãƒ‡ãƒ¼ã‚¿æ¦‚è¦',
    statsSubtitle: 'ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ¼ã‚¿åˆ†æ',
    settingsSubtitle: 'ä½“é¨“ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º',
    recentTransactions: 'æœ€è¿‘ã®å–å¼•',
    noTransactions: 'å–å¼•ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“',
    addFirst: 'æœ€åˆã®å–å¼•ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ï¼',

    // Add transaction
    addTransaction: 'å–å¼•ã‚’è¿½åŠ ',
    income: 'åå…¥',
    expense: 'æ”¯å‡º',
    amount: 'é‡‘é¡',
    category: 'ã‚«ãƒ†ã‚´ãƒª',
    description: 'èª¬æ˜',
    date: 'æ—¥ä»˜',
    save: 'ä¿å­˜',
    cancel: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
    transactionType: 'å–å¼•ã‚¿ã‚¤ãƒ—',
    currentEmotion: 'ç¾åœ¨ã®æ„Ÿæƒ…',
    notePlaceholder: 'ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰',

    // Categories
    food: 'é£Ÿäº‹',
    transport: 'äº¤é€š',
    shopping: 'è²·ã„ç‰©',
    entertainment: 'ã‚¨ãƒ³ã‚¿ãƒ¡',
    health: 'å¥åº·',
    education: 'æ•™è‚²',
    salary: 'çµ¦ä¸',
    freelance: 'ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹',
    investment: 'æŠ•è³‡',
    other: 'ãã®ä»–',
    // Transfer
    transfer: 'æŒ¯æ›¿',
    fromAccount: 'å‡ºé‡‘å£åº§',
    toAccount: 'å…¥é‡‘å£åº§',
    fee: 'æ‰‹æ•°æ–™',
    operationSuccess: 'å®Œäº†ã—ã¾ã—ãŸ',
    operationFailed: 'æ“ä½œã«å¤±æ•—ã—ã¾ã—ãŸ',
    insufficientFunds: 'æ®‹é«˜ä¸è¶³',
    cannotTransferSameAccount: 'åŒã˜å£åº§ã«ã¯æŒ¯æ›¿ã§ãã¾ã›ã‚“',
    account: 'å£åº§',
    creditLimit: 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆä¸Šé™',
    creditLimitExceeded: 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆä¸Šé™ã‚’è¶…ãˆã¾ã—ãŸ',
    initialBalanceNonNegative: 'åˆæœŸæ®‹é«˜ã¯ãƒã‚¤ãƒŠã‚¹ã«ã§ãã¾ã›ã‚“',
    selectAccount: 'å£åº§ã‚’é¸æŠ',
    noAccountAvailableMessage: 'ã¾ãšå£åº§ã‚’é¸æŠã—ã¦ãã ã•ã„',
    cannotTransferDifferentCurrency: 'ç•°ãªã‚‹é€šè²¨é–“ã§ã®æŒ¯æ›¿ã¯ã§ãã¾ã›ã‚“',

    // Settings
    language: 'è¨€èª',
    english: 'è‹±èª',
    chinese: 'ä¸­å›½èª',
    spanish: 'ã‚¹ãƒšã‚¤ãƒ³èª',
    french: 'ãƒ•ãƒ©ãƒ³ã‚¹èª',
    german: 'ãƒ‰ã‚¤ãƒ„èª',
    japanese: 'æ—¥æœ¬èª',
    korean: 'éŸ“å›½èª',

    // Common
    today: 'ä»Šæ—¥',
    yesterday: 'æ˜¨æ—¥',
    edit: 'ç·¨é›†',
    delete: 'å‰Šé™¤',
    confirm: 'ç¢ºèª',
    editTransaction: 'å–å¼•ã‚’ç·¨é›†',
    update: 'æ›´æ–°',
    deleteConfirm: 'ã“ã®å–å¼•ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ',
    operationLogs: 'æ“ä½œãƒ­ã‚°',
    pieChart: 'ã‚«ãƒ†ã‚´ãƒªåˆ†å¸ƒ',
    noData: 'ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“',

    // Header
    greetTitle: 'æ¯æ—¥ã‚’æ¥½ã—ã‚‚ã†',

    logout: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
    insights: 'ã‚¤ãƒ³ã‚µã‚¤ãƒˆ',
    recordsSubtitle: 'ã‚ãªãŸã®åæ”¯è¨˜éŒ²',
    mainEmotion: 'å„ªå‹¢ãªæ„Ÿæƒ…',
    todayTopEmotion: 'ä»Šæ—¥ã®å„ªå‹¢ãªæ„Ÿæƒ…',
    spendTimes: 'å›',
    topCategories: 'äººæ°—ã‚«ãƒ†ã‚´ãƒª',
    incomeTopCategories: 'åå…¥ã®äººæ°—ã‚«ãƒ†ã‚´ãƒª',
    expenseTopCategories: 'æ”¯å‡ºã®äººæ°—ã‚«ãƒ†ã‚´ãƒª',
    timeRange: 'æœŸé–“',
    thisYear: 'ä»Šå¹´',
    all: 'ã™ã¹ã¦',
    metricByAmount: 'é‡‘é¡é †',
    metricByCount: 'ä»¶æ•°é †',
    last7Days: 'ç›´è¿‘7æ—¥é–“',
    last30Days: 'ç›´è¿‘30æ—¥é–“',
    thisWeek: 'ä»Šé€±',
    lastWeek: 'å…ˆé€±',
    last14Days: 'ç›´è¿‘14æ—¥é–“',
    lastMonth: 'å…ˆæœˆ',
    allTime: 'å…¨æœŸé–“',
    customRange: 'ã‚«ã‚¹ã‚¿ãƒ ç¯„å›²',
    startDate: 'é–‹å§‹æ—¥',
    endDate: 'çµ‚äº†æ—¥',
    apply: 'é©ç”¨',
    insightsSubtitle: 'AIãŒæ„Ÿæƒ…ã¨åæ”¯ã®é–¢ä¿‚ã‚’åˆ†æ',
    emotionRanking: 'æ„Ÿæƒ…ãƒ©ãƒ³ã‚­ãƒ³ã‚°',
    weeklyEmotionRanking: 'ä»Šé€±ã®æ„Ÿæƒ…ãƒ©ãƒ³ã‚­ãƒ³ã‚°',
    patternAnalysis: 'åæ”¯ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ',
    smartAdvice: 'ã‚¹ãƒãƒ¼ãƒˆã‚¢ãƒ‰ãƒã‚¤ã‚¹',
    patternTopShareLine: '{emotion}ã®æ¯”ç‡ {share}%ã€å¹³å‡ {avg}ï¼ˆå…¨ä½“å¹³å‡ {overallAvg}ï¼‰',
    patternWeekCompareLine: 'ä»Šé€± {amount}ã€å…ˆé€±æ¯” {delta}%',
    adviceHighAvg: 'ææ¡ˆï¼š{emotion}é–¢é€£ã®å–å¼•ãŒ {threshold} ã‚’è¶…ãˆã‚‹å ´åˆã€ãƒªãƒã‚¤ãƒ³ãƒ‰/ç¢ºèªã‚’è¨­å®š',
    adviceBudgetCap: 'ææ¡ˆï¼šé€±é–“äºˆç®—ä¸Šé™ã‚’è¨­å®šã—ã€{cap} ä»˜è¿‘ã§é€šçŸ¥',
    recordMoreToSee: 'ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’ã„ãã¤ã‹è¨˜éŒ²ã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™',
    usedDaysPrefix: 'ä½¿ç”¨æ—¥æ•°ï¼š',
    daysUnit: 'æ—¥',
    keepRecordingTip: 'è¨˜éŒ²ã‚’ç¶šã‘ã‚‹ã“ã¨ã§æ„Ÿæƒ…ã¨åæ”¯ã®é–¢ä¿‚ã‚’ã‚ˆã‚Šç†è§£ã§ãã¾ã™ã€‚',

    // Theme
    theme: 'ãƒ†ãƒ¼ãƒ',
    lightTheme: 'ãƒ©ã‚¤ãƒˆ',
    darkTheme: 'ãƒ€ãƒ¼ã‚¯',
    systemTheme: 'ã‚·ã‚¹ãƒ†ãƒ ã«å¾“ã†',

    // Currency
    currency: 'é€šè²¨',

    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'æ”¯å‡ºã‚’è¨˜éŒ²ã—ã€æ„Ÿæƒ…ã‚’ç†è§£ã—ã€ç”Ÿæ´»ã‚’æ”¹å–„',
    slogan: 'è²¡å¸ƒãŒæ›¸ãã€å¿ƒãŒèªã‚‹',

    // Initial Balance
    initialBalance: 'åˆæœŸæ®‹é«˜',
    setInitialBalance: 'åˆæœŸæ®‹é«˜ã‚’è¨­å®š',
    initialBalanceQuestion: 'ã“ã®ã‚¢ãƒ—ãƒªã‚’ä½¿ã†å‰ã®æ®‹é«˜ã¯ï¼Ÿ',
    initialBalanceDescription: 'ã‚¢ãƒ—ãƒªä½¿ç”¨é–‹å§‹å‰ã«æŒã£ã¦ã„ãŸé‡‘é¡ã§ã™ã€‚',
    enterInitialBalance: 'åˆæœŸæ®‹é«˜ã‚’å…¥åŠ›',
    initialBalanceIncluded: 'åˆæœŸæ®‹é«˜ã‚’å«ã‚€',
    monthlyBalance: 'æœˆé–“æ®‹é«˜',
    continue: 'ç¶šè¡Œ',
    skip: 'ã‚¹ã‚­ãƒƒãƒ—',

    appVersion: 'v1.1.1',
    appDescription: 'ã‚·ãƒ³ãƒ—ãƒ«ã§ä½¿ã„ã‚„ã™ã„å®¶è¨ˆç®¡ç†ãƒ„ãƒ¼ãƒ«',

    // Settings extensions
    loggedInAccount: 'ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ',
    logoutFailed: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ',
    pleaseRetry: 'ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„',
    loginOrRegister: 'ãƒ­ã‚°ã‚¤ãƒ³ / ç™»éŒ²',
    exportDataJSON: 'ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆJSONï¼‰',
    exportFailed: 'ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ',
    importDataPasteJSON: 'ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆJSONè²¼ã‚Šä»˜ã‘ï¼‰',
    importData: 'ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ',
    pasteJsonBelow: 'ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸJSONã‚’ä¸‹ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ï¼š',
    pasteJsonPlaceholder: 'JSONã‚’è²¼ã‚Šä»˜ã‘',
    startImport: 'ã‚¤ãƒ³ãƒãƒ¼ãƒˆé–‹å§‹',
    importSuccess: 'ã‚¤ãƒ³ãƒãƒ¼ãƒˆæˆåŠŸ',
    importedPrefix: 'ã‚¤ãƒ³ãƒãƒ¼ãƒˆ ',
    importedSuffix: ' ä»¶',
    importFailed: 'ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ',
    checkJson: 'JSONå†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„',
    emotionTagManagement: 'æ„Ÿæƒ…ã‚¿ã‚°ç®¡ç†',
    add: 'è¿½åŠ ',
    addEmotionTag: 'æ„Ÿæƒ…ã‚¿ã‚°ã‚’è¿½åŠ ',
    emoji: 'çµµæ–‡å­—',
    egEmoji: 'ä¾‹ï¼šğŸ˜Š',
    name: 'åå‰',
    egHappy: 'ä¾‹ï¼šã†ã‚Œã—ã„',
    pleaseEnterName: 'åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
    emotionTags: 'æ„Ÿæƒ…ã‚¿ã‚°',
    resetEmotionTagsToDefault: 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ„Ÿæƒ…ã‚¿ã‚°ã«ãƒªã‚»ãƒƒãƒˆ',
    resetEmotionTagsRestored: 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ„Ÿæƒ…ã‚¿ã‚°ã‚’å¾©å…ƒã—ã¾ã—ãŸ',
    usageDays: 'ä½¿ç”¨æ—¥æ•°',

    // Emotions (default tags)
    'å¼€å¿ƒ': 'ã†ã‚Œã—ã„',
    'ç„¦è™‘': 'ä¸å®‰',
    'å­¤ç‹¬': 'å­¤ç‹¬',
    'æ— èŠ': 'é€€å±ˆ',
    'å¥–åŠ±è‡ªå·±': 'è‡ªåˆ†ã¸ã®ã”è¤’ç¾',
    'å‹åŠ›å¤§': 'ã‚¹ãƒˆãƒ¬ã‚¹',
    'å…´å¥‹': 'èˆˆå¥®',
    'éš¾è¿‡': 'æ‚²ã—ã„',

    // Insights tip
    analysisTip: '{emotion}ã®æ™‚ã€å–å¼•ã®å¹³å‡é‡‘é¡ãŒé«˜ããªã‚Šã¾ã™ã€‚ç†æ€§çš„ã«ä¿ã¤ãŸã‚äºˆç®—ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã®è¨­å®šã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚',

    // Auth/AuthGate
    welcomeBack: 'ãŠå¸°ã‚Šãªã•ã„',
    createAccount: 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ',
    resetPassword: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒªã‚»ãƒƒãƒˆ',
    login: 'ãƒ­ã‚°ã‚¤ãƒ³',
    register: 'ç™»éŒ²',
    sendResetEmail: 'ãƒªã‚»ãƒƒãƒˆãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡',
    backToLogin: 'ãƒ­ã‚°ã‚¤ãƒ³ã«æˆ»ã‚‹',
    goRegister: 'ç™»éŒ²ã¸',
    forgotPassword: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã§ã™ã‹',
    emailLabel: 'ãƒ¡ãƒ¼ãƒ«',
    emailPlaceholder: 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›',
    passwordLabel: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰',
    passwordPlaceholder: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›',
    confirmPasswordLabel: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª',
    confirmPasswordPlaceholder: 'ã‚‚ã†ä¸€åº¦å…¥åŠ›',
    passwordMismatch: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“',
    quickTryTitle: 'ã‚¯ã‚¤ãƒƒã‚¯ä½“é¨“',
    quickTryDesc: 'ç™»éŒ²ä¸è¦ã€ã™ãã«å…¨æ©Ÿèƒ½ã‚’ä½“é¨“',
    skipForNow: 'å¾Œã§ã‚¹ã‚­ãƒƒãƒ—',
    featureAnalytics: 'åˆ†æ',
    featureAnalyticsSub: 'æ”¯å‡ºã®åˆ†å¸ƒã¨ãƒˆãƒ¬ãƒ³ãƒ‰',
    featureInsights: 'ã‚¤ãƒ³ã‚µã‚¤ãƒˆ',
    featureInsightsSub: 'æ„Ÿæƒ…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç™ºè¦‹',
    featurePrivacy: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼',
    featurePrivacySub: 'ãƒ­ãƒ¼ã‚«ãƒ«ã¨ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ',
    loginFailed: 'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ',
    registerFailed: 'ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ',
    registerSuccessCheckEmail: 'ç™»éŒ²æˆåŠŸã€‚ãƒ¡ãƒ¼ãƒ«ã‚’ç¢ºèªã™ã‚‹ã‹ã€ç›´æ¥ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„',
    registerSuccessLocal: 'ç™»éŒ²ãŒæˆåŠŸã—ã¾ã—ãŸã€‚è³‡æ ¼æƒ…å ±ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã¾ã™ã€‚',
    resetEmailFailed: 'ãƒªã‚»ãƒƒãƒˆãƒ¡ãƒ¼ãƒ«ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ',
    resetEmailSent: 'ãƒªã‚»ãƒƒãƒˆãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚å—ä¿¡ãƒˆãƒ¬ã‚¤ã‚’ç¢ºèªã—ã¦ãã ã•ã„',
    cloudSyncNotConfigured: 'ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚è¨­å®šã§Supabase URLã¨anon keyã‚’æŒ‡å®šã—ã¦ãã ã•ã„',
    amountInvalidTitle: 'ã‚¨ãƒ©ãƒ¼',
    amountInvalidMessage: 'æœ‰åŠ¹ãªé‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
    emotionRequiredTitle: 'ãŠçŸ¥ã‚‰ã›',
    emotionRequiredMessage: 'æ„Ÿæƒ…ã‚’é¸æŠã—ã¦ãã ã•ã„',
    pleaseSelectEmotion: 'æ„Ÿæƒ…ã‚’é¸æŠã—ã¦ãã ã•ã„',
  },
  
  // Korean translations
  ko: {
    // Tabs
    home: 'í™ˆ',
    transactions: 'ê±°ë˜',
    stats: 'í†µê³„',
    settings: 'ì„¤ì •',
    
    // Home screen
    balance: 'ì”ì•¡',
    totalIncome: 'ì´ ìˆ˜ì…',
    totalExpense: 'ì´ ì§€ì¶œ',
    thisMonth: 'ì´ë²ˆ ë‹¬',
    homeSubtitle: 'ë°ì´í„° ê°œìš”',
    statsSubtitle: 'ê¸€ë¡œë²Œ ë°ì´í„° ë¶„ì„',
    settingsSubtitle: 'ì‚¬ìš©ì ê²½í—˜ì„ ë§ì¶¤í™”',
    recentTransactions: 'ìµœê·¼ ê±°ë˜',
    noTransactions: 'ì•„ì§ ê±°ë˜ê°€ ì—†ìŠµë‹ˆë‹¤',
    addFirst: 'ì²« ê±°ë˜ë¥¼ ì¶”ê°€í•´ ë³´ì„¸ìš”!',
    
    // Add transaction
    addTransaction: 'ê±°ë˜ ì¶”ê°€',
    income: 'ìˆ˜ì…',
    expense: 'ì§€ì¶œ',
    amount: 'ê¸ˆì•¡',
    category: 'ì¹´í…Œê³ ë¦¬',
    description: 'ì„¤ëª…',
    date: 'ë‚ ì§œ',
    save: 'ì €ì¥',
    cancel: 'ì·¨ì†Œ',
    transactionType: 'ê±°ë˜ ìœ í˜•',
    currentEmotion: 'í˜„ì¬ ê°ì •',
    notePlaceholder: 'ë©”ëª¨ (ì„ íƒ)',
    
    // Categories
    food: 'ì‹ë¹„',
    transport: 'êµí†µ',
    shopping: 'ì‡¼í•‘',
    entertainment: 'ì—”í„°í…Œì¸ë¨¼íŠ¸',
    health: 'ê±´ê°•',
    education: 'êµìœ¡',
    salary: 'ê¸‰ì—¬',
    freelance: 'í”„ë¦¬ëœì„œ',
    investment: 'íˆ¬ì',
    other: 'ê¸°íƒ€',
    // Transfer
    transfer: 'ì´ì²´',
    fromAccount: 'ì¶œê¸ˆ ê³„ì¢Œ',
    toAccount: 'ì…ê¸ˆ ê³„ì¢Œ',
    fee: 'ìˆ˜ìˆ˜ë£Œ',
    operationSuccess: 'ì™„ë£Œ',
    operationFailed: 'ì‘ì—… ì‹¤íŒ¨',
    insufficientFunds: 'ì”ì•¡ ë¶€ì¡±',
    cannotTransferSameAccount: 'ê°™ì€ ê³„ì¢Œë¡œëŠ” ì´ì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤',
    amountInvalidTitle: 'ì˜¤ë¥˜',
    amountInvalidMessage: 'ìœ íš¨í•œ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”',
    account: 'ê³„ì¢Œ',
    creditLimit: 'ì‹ ìš©í•œë„',
    creditLimitExceeded: 'ì‹ ìš©í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤',
    initialBalanceNonNegative: 'ì´ˆê¸° ì”ì•¡ì€ ìŒìˆ˜ê°€ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤',
    selectAccount: 'ê³„ì¢Œ ì„ íƒ',
    noAccountAvailableMessage: 'ë¨¼ì € ê³„ì¢Œë¥¼ ì„ íƒí•˜ì„¸ìš”',
    cannotTransferDifferentCurrency: 'ì„œë¡œ ë‹¤ë¥¸ í†µí™” ê°„ì—ëŠ” ì´ì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤',
    
    // Settings
    language: 'ì–¸ì–´',
    english: 'ì˜ì–´',
    chinese: 'ì¤‘êµ­ì–´',
    spanish: 'ìŠ¤í˜ì¸ì–´',
    french: 'í”„ë‘ìŠ¤ì–´',
    german: 'ë…ì¼ì–´',
    japanese: 'ì¼ë³¸ì–´',
    korean: 'í•œêµ­ì–´',
    
    // Common
    today: 'ì˜¤ëŠ˜',
    yesterday: 'ì–´ì œ',
    edit: 'í¸ì§‘',
    delete: 'ì‚­ì œ',
    confirm: 'í™•ì¸',
    editTransaction: 'ê±°ë˜ í¸ì§‘',
    update: 'ì—…ë°ì´íŠ¸',
    deleteConfirm: 'ì´ ê±°ë˜ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',
    operationLogs: 'ì‘ì—… ë¡œê·¸',
    pieChart: 'ì¹´í…Œê³ ë¦¬ ë¶„í¬',
    noData: 'ë°ì´í„° ì—†ìŒ',
    
    // Header
    greetTitle: 'ë§¤ì¼ì„ ì¦ê¸°ì„¸ìš”',

    logout: 'ë¡œê·¸ì•„ì›ƒ',
    insights: 'ì¸ì‚¬ì´íŠ¸',
    recordsSubtitle: 'ìˆ˜ì…ê³¼ ì§€ì¶œ ê¸°ë¡',
    mainEmotion: 'ìš°ì„¸í•œ ê°ì •',
    todayTopEmotion: 'ì˜¤ëŠ˜ì˜ ìš°ì„¸í•œ ê°ì •',
    spendTimes: 'íšŒ',
    topCategories: 'ì¸ê¸° ì¹´í…Œê³ ë¦¬',
    incomeTopCategories: 'ìˆ˜ì… ì¸ê¸° ì¹´í…Œê³ ë¦¬',
    expenseTopCategories: 'ì§€ì¶œ ì¸ê¸° ì¹´í…Œê³ ë¦¬',
    timeRange: 'ê¸°ê°„',
    thisYear: 'ì˜¬í•´',
    all: 'ì „ì²´',
    metricByAmount: 'ê¸ˆì•¡ ê¸°ì¤€',
    metricByCount: 'ê±´ìˆ˜ ê¸°ì¤€',
    last7Days: 'ìµœê·¼ 7ì¼',
    last30Days: 'ìµœê·¼ 30ì¼',
    thisWeek: 'ì´ë²ˆ ì£¼',
    lastWeek: 'ì§€ë‚œ ì£¼',
    last14Days: 'ìµœê·¼ 14ì¼',
    lastMonth: 'ì§€ë‚œ ë‹¬',
    allTime: 'ì „ì²´ ê¸°ê°„',
    customRange: 'ì‚¬ìš©ì ì§€ì • ë²”ìœ„',
    startDate: 'ì‹œì‘ì¼',
    endDate: 'ì¢…ë£Œì¼',
    apply: 'ì ìš©',
    insightsSubtitle: 'AIê°€ ê°ì •ê³¼ ìˆ˜ì…/ì§€ì¶œì˜ ê´€ê³„ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤',
    emotionRanking: 'ê°ì • ìˆœìœ„',
    weeklyEmotionRanking: 'ì´ë²ˆ ì£¼ ê°ì • ìˆœìœ„',
    patternAnalysis: 'ìˆ˜ì…Â·ì§€ì¶œ íŒ¨í„´ ë¶„ì„',
    smartAdvice: 'ìŠ¤ë§ˆíŠ¸ ì¡°ì–¸',
    patternTopShareLine: '{emotion} ë¹„ì¤‘ {share}%, í‰ê·  {avg} (ì „ì²´ í‰ê·  {overallAvg})',
    patternWeekCompareLine: 'ì´ë²ˆ ì£¼ {amount}, ì§€ë‚œì£¼ ëŒ€ë¹„ {delta}%',
    adviceHighAvg: 'ì œì•ˆ: "{emotion}" ê´€ë ¨ ê±°ë˜ê°€ {threshold} ì´ˆê³¼ ì‹œ ì•Œë¦¼/ì¬í™•ì¸ ì„¤ì •',
    adviceBudgetCap: 'ì œì•ˆ: ì£¼ê°„ ì˜ˆì‚° í•œë„ë¥¼ ì„¤ì •í•˜ê³  {cap} ê·¼ì ‘ ì‹œ ì•Œë¦¼',
    recordMoreToSee: 'ëª‡ ê°œ í•­ëª©ì„ ê¸°ë¡í•˜ë©´ í‘œì‹œë©ë‹ˆë‹¤',
    usedDaysPrefix: 'ì‚¬ìš© ì¼ìˆ˜:',
    daysUnit: 'ì¼',
    keepRecordingTip: 'ê¸°ë¡ì„ ê³„ì†í•˜ë©´ ê°ì •ê³¼ ìˆ˜ì…/ì§€ì¶œì˜ ê´€ê³„ë¥¼ ë” ì˜ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
    
    // Theme
    theme: 'í…Œë§ˆ',
    lightTheme: 'ë¼ì´íŠ¸',
    darkTheme: 'ë‹¤í¬',
    systemTheme: 'ì‹œìŠ¤í…œ ë”°ë¥´ê¸°',
    
    // Currency
    currency: 'í†µí™”',
    
    // App Info
    appName: 'MoodLedger',
    authTitle: 'MoodLedger',
    authSubtitle: 'ì§€ì¶œì„ ê¸°ë¡í•˜ê³  ê°ì •ì„ ì´í•´í•˜ë©° ì‚¶ì„ ê°œì„ í•˜ì„¸ìš”',
    slogan: 'ë‹¹ì‹ ì˜ ì§€ê°‘ì´ ì“°ê³ , ë‹¹ì‹ ì˜ ë§ˆìŒì´ ë§í•©ë‹ˆë‹¤',
    
    // Initial Balance
    initialBalance: 'ì´ˆê¸° ì”ì•¡',
    setInitialBalance: 'ì´ˆê¸° ì”ì•¡ ì„¤ì •',
    initialBalanceQuestion: 'ì•± ì‚¬ìš© ì „ ì”ì•¡ì€ ì–¼ë§ˆì˜€ë‚˜ìš”?',
    initialBalanceDescription: 'ì•± ì‚¬ìš© ì‹œì‘ ì „ì— ê°€ì§€ê³  ìˆë˜ ê¸ˆì•¡ì…ë‹ˆë‹¤.',
    enterInitialBalance: 'ì´ˆê¸° ì”ì•¡ì„ ì…ë ¥í•˜ì„¸ìš”',
    initialBalanceIncluded: 'ì´ˆê¸° ì”ì•¡ í¬í•¨',
    monthlyBalance: 'ì›”ê°„ ì”ì•¡',
    continue: 'ê³„ì†',
    skip: 'ê±´ë„ˆë›°ê¸°',
    
    appVersion: 'v1.1.1',
    appDescription: 'ê°„ë‹¨í•˜ê³  ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ ê°œì¸ ì¬ë¬´ ë„êµ¬',
    
    // Settings extensions
    loggedInAccount: 'ë¡œê·¸ì¸ëœ ê³„ì •',
    logoutFailed: 'ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨',
    pleaseRetry: 'ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”',
    loginOrRegister: 'ë¡œê·¸ì¸ / ë“±ë¡',
    exportDataJSON: 'ë°ì´í„° ë‚´ë³´ë‚´ê¸° (JSON)',
    exportFailed: 'ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨',
    importDataPasteJSON: 'ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (JSON ë¶™ì—¬ë„£ê¸°)',
    importData: 'ë°ì´í„° ê°€ì ¸ì˜¤ê¸°',
    pasteJsonBelow: 'ë‚´ë³´ë‚¸ JSON ë‚´ìš©ì„ ì•„ë˜ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”:',
    pasteJsonPlaceholder: 'JSON ë¶™ì—¬ë„£ê¸°',
    startImport: 'ê°€ì ¸ì˜¤ê¸° ì‹œì‘',
    importSuccess: 'ê°€ì ¸ì˜¤ê¸° ì„±ê³µ',
    importedPrefix: 'ê°€ì ¸ì˜¨ í•­ëª© ',
    importedSuffix: ' ê°œ',
    importFailed: 'ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨',
    checkJson: 'JSON ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”',
    emotionTagManagement: 'ê°ì • íƒœê·¸ ê´€ë¦¬',
    add: 'ì¶”ê°€',
    addEmotionTag: 'ê°ì • íƒœê·¸ ì¶”ê°€',
    emoji: 'ì´ëª¨ì§€',
    egEmoji: 'ì˜ˆ: ğŸ˜Š',
    name: 'ì´ë¦„',
    egHappy: 'ì˜ˆ: í–‰ë³µ',
    pleaseEnterName: 'ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”',
    emotionTags: 'ê°ì • íƒœê·¸',
    resetEmotionTagsToDefault: 'ê¸°ë³¸ ê°ì • íƒœê·¸ë¡œ ë³µì›',
    resetEmotionTagsRestored: 'ê¸°ë³¸ ê°ì • íƒœê·¸ê°€ ë³µì›ë˜ì—ˆìŠµë‹ˆë‹¤',
    usageDays: 'ì‚¬ìš© ì¼ìˆ˜',
    
    // Emotions (default tags)
    'å¼€å¿ƒ': 'í–‰ë³µ',
    'ç„¦è™‘': 'ë¶ˆì•ˆ',
    'å­¤ç‹¬': 'ì™¸ë¡œì›€',
    'æ— èŠ': 'ì§€ë£¨í•¨',
    'å¥–åŠ±è‡ªå·±': 'ë‚˜ì—ê²Œ ë³´ìƒ',
    'å‹åŠ›å¤§': 'ìŠ¤íŠ¸ë ˆìŠ¤',
    'å…´å¥‹': 'í¥ë¶„',
    'éš¾è¿‡': 'ìŠ¬í””',
    
    // Insights tip
    analysisTip: '{emotion}ì¼ ë•Œ ê±°ë˜ í‰ê·  ê¸ˆì•¡ì´ ë” ë†’ìŠµë‹ˆë‹¤. í•©ë¦¬ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì˜ˆì‚° ì•Œë¦¼ì„ ì„¤ì •í•˜ì„¸ìš”.',
    
    // Auth/AuthGate
    welcomeBack: 'ë‹¤ì‹œ ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤',
    createAccount: 'ê³„ì • ë§Œë“¤ê¸°',
    resetPassword: 'ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •',
    login: 'ë¡œê·¸ì¸',
    register: 'ë“±ë¡',
    sendResetEmail: 'ì¬ì„¤ì • ì´ë©”ì¼ ë³´ë‚´ê¸°',
    backToLogin: 'ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°',
    goRegister: 'ë“±ë¡í•˜ëŸ¬ ê°€ê¸°',
    forgotPassword: 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠìœ¼ì…¨ë‚˜ìš”',
    emailLabel: 'ì´ë©”ì¼',
    emailPlaceholder: 'ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”',
    passwordLabel: 'ë¹„ë°€ë²ˆí˜¸',
    passwordPlaceholder: 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
    confirmPasswordLabel: 'ë¹„ë°€ë²ˆí˜¸ í™•ì¸',
    confirmPasswordPlaceholder: 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”',
    passwordMismatch: 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤',
    quickTryTitle: 'ë¹ ë¥¸ ì²´í—˜',
    quickTryDesc: 'ë“±ë¡ ì—†ì´ ì§€ê¸ˆ ëª¨ë“  ê¸°ëŠ¥ ì²´í—˜',
    skipForNow: 'ë‚˜ì¤‘ì— ê±´ë„ˆë›°ê¸°',
    featureAnalytics: 'ë¶„ì„',
    featureAnalyticsSub: 'ì§€ì¶œ ë¶„í¬ ë° ì¶”ì„¸',
    featureInsights: 'ì¸ì‚¬ì´íŠ¸',
    featureInsightsSub: 'ê°ì • íŒ¨í„´ ë°œê²¬',
    featurePrivacy: 'ê°œì¸ì •ë³´',
    featurePrivacySub: 'ë¡œì»¬ ë° í´ë¼ìš°ë“œ ë™ê¸°í™”',
    loginFailed: 'ë¡œê·¸ì¸ ì‹¤íŒ¨',
    registerFailed: 'ë“±ë¡ ì‹¤íŒ¨',
    registerSuccessCheckEmail: 'ë“±ë¡ ì„±ê³µ. ì´ë©”ì¼ì„ í™•ì¸í•˜ê±°ë‚˜ ë°”ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”',
    registerSuccessLocal: 'ë“±ë¡ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤. ìê²© ì¦ëª…ìœ¼ë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
    resetEmailFailed: 'ì¬ì„¤ì • ì´ë©”ì¼ ì „ì†¡ ì‹¤íŒ¨',
    resetEmailSent: 'ì¬ì„¤ì • ì´ë©”ì¼ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤. ë°›ì€ í¸ì§€í•¨ì„ í™•ì¸í•˜ì„¸ìš”',
    cloudSyncNotConfigured: 'í´ë¼ìš°ë“œ ë™ê¸°í™”ê°€ êµ¬ì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì„¤ì •ì—ì„œ Supabase URLê³¼ anon keyë¥¼ ì…ë ¥í•˜ì„¸ìš”',
    emotionRequiredTitle: 'ì•Œë¦¼',
    emotionRequiredMessage: 'ê°ì •ì„ ì„ íƒí•´ ì£¼ì„¸ìš”',
    pleaseSelectEmotion: 'ê°ì •ì„ ì„ íƒí•´ ì£¼ì„¸ìš”',
  }
};

export const LanguageProvider: React.FC<{children: ReactNode}> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>('en');
  const [currency, setCurrencyState] = useState<string>('USD');

  useEffect(() => {
    (async () => {
      try {
        const entries = await AsyncStorage.multiGet(['language', 'currency']);
        const savedLanguage = entries.find(([k]) => k === 'language')?.[1];
        const savedCurrency = entries.find(([k]) => k === 'currency')?.[1];
        const locales = Localization.getLocales();

        // è®¾ç½®è¯­è¨€
        if (savedLanguage) {
          setLanguageState(savedLanguage as Language);
        } else {
          const langCode = (Localization.getLocales()[0]?.languageCode ?? 'en') as Language;
          if (Object.keys(translations).includes(langCode)) {
            setLanguageState(langCode);
          } else {
            setLanguageState('en');
          }
        }

        // è®¾ç½®è´§å¸ï¼ˆä¼˜å…ˆä½¿ç”¨ä¿å­˜çš„å€¼ï¼Œå¦åˆ™æ ¹æ®åœ°åŒºæ¨æ–­ï¼Œé»˜è®¤ USDï¼‰
        if (savedCurrency) {
          setCurrencyState(savedCurrency);
        } else {
          const region = inferRegion(locales as any[]);
          setCurrencyState(REGION_TO_CURRENCY[region] ?? 'USD');
        }
      } catch (error) {
        console.error('Failed to load language:', error);
      }
    })();
  }, []);

  const setLanguage = async (lang: Language) => {
    try {
      // ç¡®ä¿è¯­è¨€æ˜¯æˆ‘ä»¬æ”¯æŒçš„è¯­è¨€ä¹‹ä¸€
      if (lang === 'en' || lang === 'zh' || lang === 'es' || lang === 'fr' || 
          lang === 'de' || lang === 'ja' || lang === 'ko') {
        await AsyncStorage.setItem('language', lang);
        setLanguageState(lang);
      } else {
        // å¦‚æœä¸æ˜¯æ”¯æŒçš„è¯­è¨€ï¼Œåˆ™é»˜è®¤ä½¿ç”¨è‹±æ–‡
        await AsyncStorage.setItem('language', 'en');
        setLanguageState('en');
      }
    } catch (error) {
      console.error('Failed to save language:', error);
    }
  };

  /**
   * @deprecated è¯·æ”¹ç”¨ TransactionContext.setCurrency ä½œä¸ºå”¯ä¸€å˜æ›´å…¥å£
   */
  const setCurrency = async (code: string) => {
    try {
      await AsyncStorage.setItem('currency', code);
      setCurrencyState(code);
    } catch (error) {
      console.error('Failed to save currency:', error);
    }
  };

  const t = useCallback((key: string, vars?: Record<string, string>) => {
    const dict = translations as Record<string, Record<string, string>>;
    let s: string | undefined;
    if (language && dict[language]) {
      s = dict[language]?.[key];
    }
    if (!s) s = dict.en[key] || dict.zh[key] || key;
    if (vars && s) {
      for (const k in vars) {
        s = s.replace(new RegExp(`\\{${k}\\}`, 'g'), vars[k]);
      }
    }
    return s;
  }, [language]);

  const value = useMemo(() => ({ language, setLanguage, currency, setCurrency, t }), [language, currency, t]);

  return (
    <LanguageContext.Provider value={value}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};

export default LanguageContext;